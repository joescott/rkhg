<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RKH: rkh.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">RKH
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rkh.h File Reference</div>  </div>
</div>
<div class="contents">

<p>RKH platform-independent interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="rkhitl_8h_source.html">rkhitl.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rkhrq_8h_source.html">rkhrq.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rkhmp_8h_source.html">rkhmp.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rkhassert_8h_source.html">rkhassert.h</a>&quot;</code><br/>
</div>
<p><a href="rkh_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ae6f82e01bd1cf3cdb5774c9c5c043128">RKH_MODULE_VERSION</a>(__fname, __version)&#160;&#160;&#160;static RKHROM char *const m_version = #__version;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro appears at the top of each C/C++ source file defining the version string for that file (module).  <a href="#ae6f82e01bd1cf3cdb5774c9c5c043128"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3da3e05835b23dd7c7645f0421e3cb9b"></a><!-- doxytag: member="rkh.h::RKH_MODULE_GET_VERSION" ref="a3da3e05835b23dd7c7645f0421e3cb9b" args="()" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a3da3e05835b23dd7c7645f0421e3cb9b">RKH_MODULE_GET_VERSION</a>()&#160;&#160;&#160;((const char*)m_version);</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the module version. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a9d0627d4f275b0573a87724095d28695">RKH_MODULE_DESC</a>(__fname, __desc)&#160;&#160;&#160;static RKHROM char *const m_desc = __desc;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro appears at the top of each C/C++ source file defining the description string for that file (module).  <a href="#a9d0627d4f275b0573a87724095d28695"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17d9fe10cfb8f7cdd535345d5edc5650"></a><!-- doxytag: member="rkh.h::RKH_MODULE_GET_DESC" ref="a17d9fe10cfb8f7cdd535345d5edc5650" args="()" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a17d9fe10cfb8f7cdd535345d5edc5650">RKH_MODULE_GET_DESC</a>()&#160;&#160;&#160;((const char*)m_desc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the module description. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a0a70ee0cbf5b1738be4c9463c529ce72">ELSE</a>&#160;&#160;&#160;rkh_else</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Each condition connector can have one special branch with a guard labeled ELSE, which is taken if all the guards on the other branches are false.  <a href="#a0a70ee0cbf5b1738be4c9463c529ce72"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#acc24b2221cd374e66732a09fb24b56ce">RKH_CREATE_COMP_STATE</a>(name, id, en, ex, parent, defchild, history)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a composite state.  <a href="#acc24b2221cd374e66732a09fb24b56ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a3567a7f91a5dc5759747dc8528357b44">RKH_CREATE_BASIC_STATE</a>(name, id, en, ex, parent, prepro)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a basic state.  <a href="#a3567a7f91a5dc5759747dc8528357b44"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ade7387dead9112bd67580de3350aee51">RKH_CREATE_COND_STATE</a>(name, id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a conditional pseudostate.  <a href="#ade7387dead9112bd67580de3350aee51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a9f73c81d95a4bd5bec21e10ea6f05add">RKH_CREATE_JUNCTION_STATE</a>(name, id, action, target)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a junction pseudostate.  <a href="#a9f73c81d95a4bd5bec21e10ea6f05add"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a49995aa34cddd68fcc6416655ca408f8">RKH_CREATE_DEEP_HISTORY_STATE</a>(name, id, parent)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a deep history pseudostate.  <a href="#a49995aa34cddd68fcc6416655ca408f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a7a5376dd9929642f5b6e31def6d92bb4">RKH_CREATE_SHALLOW_HISTORY_STATE</a>(name, id, parent)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a shallow history pseudostate.  <a href="#a7a5376dd9929642f5b6e31def6d92bb4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a5a859233f4fab22d4b321c6ac122d382">RKH_CREATE_SUBMACHINE_STATE</a>(name, id, en, ex, parent, sbm)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a submachine state.  <a href="#a5a859233f4fab22d4b321c6ac122d382"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aa3f5f174502580a9edfb478612ef55a4">RKH_CREATE_EX_CNNPNT_TABLE</a>(name)&#160;&#160;&#160;RKHROM <a class="el" href="struct_r_k_h_e_x_p_c_n___t.html">RKHEXPCN_T</a> name##_exptbl[]={</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a exit point connection point reference table. This table have the general structure shown below:  <a href="#aa3f5f174502580a9edfb478612ef55a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1">RKH_EX_CNNPNT</a>(name, expnt, act, ts)&#160;&#160;&#160;{act, (RKHROM struct rkhst_t *)ts}</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates an exit point connection point reference.  <a href="#a52faf20342a2e105698b7b4c50952ba1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a2b628df718de30cfd38b26a23155a84a">RKH_END_EX_CNNPNT_TABLE</a>&#160;&#160;&#160;};</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used to terminate a exit point connection reference table. This table have the general structure shown below:  <a href="#a2b628df718de30cfd38b26a23155a84a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ab2920eb4e81a05b2002a9f49a44a3394">RKH_EN_CNNPNT</a>(name, enpnt, subm)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates an entry point connection point reference.  <a href="#ab2920eb4e81a05b2002a9f49a44a3394"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a72b7267205521b0be8f113e8832a9440">RKH_CREATE_REF_SUBMACHINE</a>(name, id, defchild, iact)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a submachine state machine, which is to be inserted in place of the (submachine) state.  <a href="#a72b7267205521b0be8f113e8832a9440"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a6fe42cdda8a3148e73f7eede949df02b">RKH_CREATE_REF_EXPNT</a>(name, ix, subm)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates an exit point.  <a href="#a6fe42cdda8a3148e73f7eede949df02b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a7d5fb4c1cd362a3be3f07db0fc31caac">RKH_CREATE_REF_ENPNT</a>(name, act, ts, subm)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a entry point.  <a href="#a7d5fb4c1cd362a3be3f07db0fc31caac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aef55bd044383009972f38c332f8210a9">RKH_CREATE_TRANS_TABLE</a>(name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro creates a state transition table. This table have the general structure shown below:  <a href="#aef55bd044383009972f38c332f8210a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ab0fc2ccb4b73d57ea0c0f478353a00f6">RKH_TRREG</a>(e, g, a, t)&#160;&#160;&#160;{ e, g, a, t }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro defines a regular state transition. The general syntax of an expression labelling a transition in a statechart is <em>"i[c]/a"</em> where <em>i</em> is the input that triggers the transition, <em>c</em> is a condition that guards the transition from being taken unless it is true when <em>i</em> occurs, and <em>a</em> is an action that is carried out if and when the transition is taken. All of these parts are optional.  <a href="#ab0fc2ccb4b73d57ea0c0f478353a00f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ac257d157f98ef172e5e8c8725a293bdf">RKH_TRINT</a>(e, g, a)&#160;&#160;&#160;{ e, g, a, NULL }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro defines an internal state transition. Internal transitions are simple reactions to events that never lead to change of state and consequently never cause execution of exit actions, entry actions, or initial transitions.  <a href="#ac257d157f98ef172e5e8c8725a293bdf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a0e90290b709c86a39384ea5a4c95ac4f">RKH_END_TRANS_TABLE</a>&#160;&#160;&#160;{ RKH_ANY, NULL, NULL, NULL }};</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used to terminate a state transition table. This table have the general structure shown below:  <a href="#a0e90290b709c86a39384ea5a4c95ac4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a57353c7dab6539b0a7ae92142b73ad2e">RKH_CREATE_BRANCH_TABLE</a>(name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033">RKH_BRANCH</a>(g, a, t)&#160;&#160;&#160;{ 0, g, a, t }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro defines a branch in the branch table.  <a href="#ad1ebb38b7398d7f4ec60ef3e0922d033"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a179912e226da08c982c9e93d77886c53">RKH_END_BRANCH_TABLE</a>&#160;&#160;&#160;RKH_EBTBL};</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used to terminate a state transition table. This table have the general structure shown below:  <a href="#a179912e226da08c982c9e93d77886c53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2b1332a21797445c49710b6074ddb9b"></a><!-- doxytag: member="rkh.h::RKH_ROOT" ref="af2b1332a21797445c49710b6074ddb9b" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#af2b1332a21797445c49710b6074ddb9b">RKH_ROOT</a>&#160;&#160;&#160;NULL</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro indicates the root state of a state machine. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aab4c88b9429479d470bde8e05b2feead">RKH_SMA_DCLR</a>(sma)&#160;&#160;&#160;extern <a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *const sma</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro declares a opaque pointer to previously created state machine application (SMA) to be used as a global object.  <a href="#aab4c88b9429479d470bde8e05b2feead"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#adaee98e4b98dd79ea0ae3f930d695321">RKH_DCLR_SM_GLOBAL</a>(sma_t, sm, gob)&#160;&#160;&#160;sma_t * const gob = &amp;s_##sm;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created SMA to be used as a global object.  <a href="#adaee98e4b98dd79ea0ae3f930d695321"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ae6c326c33b1cc4acf2529c628ba8c2aa">RKH_SMA_CREATE</a>(sma_t, id, name, prio, ppty, ist, iact, ievt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare and allocate a SMA (active object) derived from <a class="el" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a>. Also, initializes and assigns a state machine to previously declared SMA.  <a href="#ae6c326c33b1cc4acf2529c628ba8c2aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a66808180348a0a822a0fa46328b7f7d9">RKH_ALLOC_EVENT</a>(et, e)&#160;&#160;&#160;(et*)rkh_ae((<a class="el" href="rkhevt_8h.html#a97327b17e4be27368f9f6ad66ea1d785">RKHES_T</a>)sizeof(et),(<a class="el" href="rkhevt_8h.html#a8a78cec3a9dfc2336bd084c221e15e10">RKHE_T</a>)(e))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro dynamically creates a new event of type <em>et</em> with its signal.  <a href="#a66808180348a0a822a0fa46328b7f7d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a5a62e6121174abd89d8a77b9ebef0736">RKH_GC</a>(e)&#160;&#160;&#160;rkh_gc( e )</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Recycle a dynamic event.  <a href="#a5a62e6121174abd89d8a77b9ebef0736"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a1e1ded09fc7d2c30b33a74ebccf1bc3e">RKH_SET_STATIC_EVENT</a>(e, es)&#160;&#160;&#160;mksevt( e, es )</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro initialize an event <em>e</em> with <em>es</em> signal and establishes it as one static event.  <a href="#a1e1ded09fc7d2c30b33a74ebccf1bc3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ac2d1fc13a6b019e7967db720d72dfcd8">RKH_DCLR_STATIC_EVENT</a>(e, es)&#160;&#160;&#160;mkievt( e, es )</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro declares and initializes the event structure <em>e</em> with <em>es</em> signal and establishes it as one static event. The created event object is explicitly placed in ROM.  <a href="#ac2d1fc13a6b019e7967db720d72dfcd8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a959530dcf7a5e0547c3ae9abf503787d">rkh_get_cstate_id</a>(sma)&#160;&#160;&#160;((<a class="el" href="struct_r_k_h_b_a_s_e___t.html">RKHBASE_T</a>*)((sma)-&gt;state))-&gt;id</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro retrieves the state ID of SMA.  <a href="#a959530dcf7a5e0547c3ae9abf503787d"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ab856423b3e65be3f55b7df3b2984e5fe">RKH_DCLR_COMP_STATE</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_c_m_p___t.html">RKHSCMP_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#ab856423b3e65be3f55b7df3b2984e5fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a483ad8fd1a11d5b823e58a2884e40f22">RKH_DCLR_BASIC_STATE</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_b_s_c___t.html">RKHSBSC_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#a483ad8fd1a11d5b823e58a2884e40f22"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ae15f169feaafe7cf7e335e24e76039b9">RKH_DCLR_COND_STATE</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_c_o_n_d___t.html">RKHSCOND_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#ae15f169feaafe7cf7e335e24e76039b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a2862a673eba565cd2888ca5fb3405a38">RKH_DCLR_JUNC_STATE</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_j_u_n_c___t.html">RKHSJUNC_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#a2862a673eba565cd2888ca5fb3405a38"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a042e46c64f90aa08a92db9e9d30e1959">RKH_DCLR_DHIST_STATE</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#a042e46c64f90aa08a92db9e9d30e1959"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aa618e2849fbd748f672bd5e0b3b6bb16">RKH_DCLR_SHIST_STATE</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#aa618e2849fbd748f672bd5e0b3b6bb16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a956285310d9b0cd90c5c9280b197f9fd">RKH_DCLR_SUBM_STATE</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_s_b_m___t.html">RKHSSBM_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#a956285310d9b0cd90c5c9280b197f9fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ae64a1788046bd972dd4e2e905c1d67ea">RKH_DCLR_REF_SUBM</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_r_s_m___t.html">RKHRSM_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#ae64a1788046bd972dd4e2e905c1d67ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#abbe3ba8a8a32cc7359ce715568e44cae">RKH_DCLR_ENPNT</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_e_n_p___t.html">RKHSENP_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#abbe3ba8a8a32cc7359ce715568e44cae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aaa577ea93366c43f8fa3f801c464ba5d">RKH_DCLR_REF_EXPNT</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_e_x_p___t.html">RKHSEXP_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#aaa577ea93366c43f8fa3f801c464ba5d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a460aedcac6fc4799d4c14a33c2971ead">RKH_DCLR_REF_ENPNT</a>&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_e_n_p_c_n___t.html">RKHENPCN_T</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a previously created state/pseudostate to be used as a global object.  <a href="#a460aedcac6fc4799d4c14a33c2971ead"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3">RKH_RCODE_T</a> { <br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a567323b6c0efa1f3368064615c9d5dcd">RKH_OK</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a0c9fe6c670ea1e83ca5c3a5666ca1181">RKH_INPUT_NOT_FOUND</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a24fbaf67d8677779b69f3a133ec22772">RKH_CONDITION_NOT_FOUND</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3ae46b1cbd592c25a27720783efb3b21f4">RKH_GUARD_FALSE</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a067ecd2890ffed78d08680c9f029594c">RKH_UNKNOWN_STATE</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a42666d274d23ded0e35db3b52a6681e8">RKH_EXCEED_HCAL_LEVEL</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a654591caeda5861a0c257b5696c330cf">RKH_EXCEED_TRC_SEGS</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3adb6db8102ad27b1b187bc07070669243">RKH_NUM_CODES</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return codes from <a class="el" href="rkh_8h.html#ae56c0173d50898325d8e64eac816399b" title="Executes a state machine in a non-preemtive model.">rkh_dispatch()</a> function.  <a href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7">RKH_HPPTY_T</a> { <br/>
&#160;&#160;<a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda">HCAL</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7a0338024d4d0d5bffed604c279f8f5550">FLAT</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7aac7de3818e7e86853c5306edd63bced3">RKH_NUM_HPPTY</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State machine properties.  <a href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87f">RKH_GRET_T</a> { <br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87fab2834a90f78254076ef72298dc9e5e95">RKH_GFALSE</a>, 
<br/>
&#160;&#160;<a class="el" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87fafe08c2d352ce11183556bab12489e736">RKH_GTRUE</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This values are retrived by guard functions.  <a href="rkh_8h.html#ad92b1f5668618253476e76a58766c87f">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a348c60d5a5c6b1492ca55648e9aeeaf6">rkh_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the RKH framework.  <a href="#a348c60d5a5c6b1492ca55648e9aeeaf6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a6b8f47b2f288dd0cf2c8b44dd062d509">rkh_enter</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">RKH framework is started.  <a href="#a6b8f47b2f288dd0cf2c8b44dd062d509"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ab18447f196fdd82c3d46617dff71a44c">rkh_exit</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit the RKH framework.  <a href="#ab18447f196fdd82c3d46617dff71a44c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a7db674272d1231053666dcc21f5fbaba">rkh_tim_tick</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Keep tracks and updates the started timers.  <a href="#a7db674272d1231053666dcc21f5fbaba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a02d78c8f4c9f8e2b9fb0cf57711c1220">rkh_sma_activate</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma, const <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> **qs, <a class="el" href="rkhrq_8h.html#a9b92c95ab477eb8e6f81dd35e16923a3">RKH_RQNE_T</a> qsize, void *stks, rkhui32_t stksize)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and activates a previously created state machine application.  <a href="#a02d78c8f4c9f8e2b9fb0cf57711c1220"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a4923f3d24f0f3cea38d598f5b7db203c">rkh_sma_terminate</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate a state machine application.  <a href="#a4923f3d24f0f3cea38d598f5b7db203c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ac11aaa38aefb41673027b1baa44fdd3b">rkh_sma_post_fifo</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma, const <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *e)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an event to a state machine application through a queue using the FIFO policy. A message is a pointer size variable and its use is application specific.  <a href="#ac11aaa38aefb41673027b1baa44fdd3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a8293c298ff040cc8277e6ded413f8037">rkh_sma_post_lifo</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma, const <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *e)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an event to a state machine application through a queue using the LIFO policy. A message is a pointer size variable and its use is application specific.  <a href="#a8293c298ff040cc8277e6ded413f8037"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#af8993801a4f995bafb8870cde439cfb7">rkh_sma_get</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an event from the event queue of an state machine application. The events received are pointer size variables and their use is application specific.  <a href="#af8993801a4f995bafb8870cde439cfb7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a5fbaacc4eb0692a0013c31fa2510b076">rkh_sma_get_info</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma, <a class="el" href="struct_r_k_h___s_m_a_i___t.html">RKH_SMAI_T</a> *psi)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves performance information for a particular state machine application.  <a href="#a5fbaacc4eb0692a0013c31fa2510b076"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a32a97a1a7b1b3dce657b5c16fbd5d87c">rkh_sma_clear_info</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear performance information for a particular state machine application.  <a href="#a32a97a1a7b1b3dce657b5c16fbd5d87c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aa66015888d344e3f9ebe604817dc19cc">rkh_sma_register</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a state machine application into the framework, which implies to store a pointer to the SMA in the priority table.  <a href="#aa66015888d344e3f9ebe604817dc19cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ab7f65892fe1948afc1b76a5f9eb0c8f0">rkh_sma_unregister</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the SMA from the priority table, and thus from the framework, by simply replacing the link to the SMA being deleted with a NULL pointer.  <a href="#ab7f65892fe1948afc1b76a5f9eb0c8f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a994172cec235f0bc4aa32f72e5497621">rkh_defer</a> (<a class="el" href="struct_r_k_h_r_q___t.html">RKHRQ_T</a> *q, const <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *e)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Defer an event to a given separate event queue.  <a href="#a994172cec235f0bc4aa32f72e5497621"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a1699d08d464d2c77bd9aee5e4e55568e">rkh_recall</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma, <a class="el" href="struct_r_k_h_r_q___t.html">RKHRQ_T</a> *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Recall a deferred event from a given event queue.  <a href="#a1699d08d464d2c77bd9aee5e4e55568e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aafd0b47b3a410c6b89e499b39a28f874">rkh_epool_register</a> (void *sstart, rkhui32_t ssize, <a class="el" href="rkhevt_8h.html#a97327b17e4be27368f9f6ad66ea1d785">RKHES_T</a> esize)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new event pool into the event pool list.  <a href="#aafd0b47b3a410c6b89e499b39a28f874"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a5588d1004e6041f7d6d6981470cee583">rkh_ae</a> (<a class="el" href="rkhevt_8h.html#a97327b17e4be27368f9f6ad66ea1d785">RKHES_T</a> esize, <a class="el" href="rkhevt_8h.html#a8a78cec3a9dfc2336bd084c221e15e10">RKHE_T</a> e)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal RKH implementation of the dynamic event allocator.  <a href="#a5588d1004e6041f7d6d6981470cee583"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a3572f6e590c0480ae6c38cb52591548c">rkh_hk_dispatch</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma, <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *e)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">When dispatching an event to a SMA the dispatch hook function will be executed.  <a href="#a3572f6e590c0480ae6c38cb52591548c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ae9e0cf19deea17d51c606b097376693d">rkh_hk_signal</a> (<a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *e)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">When the producer of an event directly posts the event to the event queue of the consumer SMA the <a class="el" href="rkh_8h.html#ae9e0cf19deea17d51c606b097376693d" title="When the producer of an event directly posts the event to the event queue of the consumer SMA the rkh...">rkh_hk_signal()</a> will optionally called.  <a href="#ae9e0cf19deea17d51c606b097376693d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aa1d038df594d55a40edb5216f93587e1">rkh_hk_timeout</a> (const void *t)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If a timer expires the <a class="el" href="rkh_8h.html#aa1d038df594d55a40edb5216f93587e1" title="If a timer expires the rkh_hk_timeout() function is called just before the assigned event is directly...">rkh_hk_timeout()</a> function is called just before the assigned event is directly posted into the state machine application queue.  <a href="#aa1d038df594d55a40edb5216f93587e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a8e824db08ba7430b74762a487804812b">rkh_hk_start</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This hook function is called just before the RKH takes over control of the application.  <a href="#a8e824db08ba7430b74762a487804812b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a2a7e209c4a5e7cd493d7e8870b576583">rkh_hk_exit</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This hook function is called just before the RKH returns to the underlying OS/RTOS. Usually, the <a class="el" href="rkh_8h.html#a2a7e209c4a5e7cd493d7e8870b576583" title="This hook function is called just before the RKH returns to the underlying OS/RTOS. Usually, the rkh_hk_exit() is useful when executing clean-up code upon SMA terminate or framework exit.">rkh_hk_exit()</a> is useful when executing clean-up code upon SMA terminate or framework exit.  <a href="#a2a7e209c4a5e7cd493d7e8870b576583"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a5edbaf8597b0b92d05d80dfddd891d52">rkh_hk_idle</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An idle hook function will only get executed (with interrupts LOCKED) when there are no SMAs of higher priority that are ready to run.  <a href="#a5edbaf8597b0b92d05d80dfddd891d52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a395d701b816dd11bdd9835483607ae5f">rkh_init_hsm</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Inits a previously created state machine calling its initializing action.  <a href="#a395d701b816dd11bdd9835483607ae5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HUInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ae56c0173d50898325d8e64eac816399b">rkh_dispatch</a> (<a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *sma, <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *e)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a state machine in a non-preemtive model.  <a href="#ae56c0173d50898325d8e64eac816399b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a0c5cc7f333fe645313a7830387c1e2f2">rkh_clear_history</a> (RKHROM <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a> *h)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the history of a state. It can be a shallow or deep history.  <a href="#a0c5cc7f333fe645313a7830387c1e2f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a01e6ed5f8d81d1e3ec5bf32d44a4bab6">rkh_trc_open</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the tracing session.  <a href="#a01e6ed5f8d81d1e3ec5bf32d44a4bab6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a82ea03425018b8a70571b3499b70e8d3">rkh_trc_close</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the tracing session.  <a href="#a82ea03425018b8a70571b3499b70e8d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a40281729b441d54e4118a6809540bb2f">rkh_trc_flush</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Platform-dependent macro flushing the trace stream.  <a href="#a40281729b441d54e4118a6809540bb2f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="rkhtrc_8h.html#a35f6c91d6f5a83e634f757e867290186">RKHTS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ac289dc76e3dc4fdc23691782caa3aab9">rkh_trc_getts</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a timestamp to be placed in a trace event.  <a href="#ac289dc76e3dc4fdc23691782caa3aab9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a3a9318a6a79d7b808df2f75351ba0286">rkh_sptbl</a> [RKH_MAX_SMA]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Priority arranged table of registered SMA.  <a href="#a3a9318a6a79d7b808df2f75351ba0286"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acdd6484fff4fc6ae3c4106f9492ec421"></a><!-- doxytag: member="rkh.h::rkh_maptbl" ref="acdd6484fff4fc6ae3c4106f9492ec421" args="[8]" -->
RKHROM rkhui8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#acdd6484fff4fc6ae3c4106f9492ec421">rkh_maptbl</a> [8]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">rkh_maptbl[] is a table in ROM, used to equate an index from 0 to 7 to a bit mask. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a901f2d3f2f36ef9da34c0b5f1fd77ff8"></a><!-- doxytag: member="rkh.h::rkh_unmaptbl" ref="a901f2d3f2f36ef9da34c0b5f1fd77ff8" args="[256]" -->
RKHROM rkhui8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a901f2d3f2f36ef9da34c0b5f1fd77ff8">rkh_unmaptbl</a> [256]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">rkh_unmaptbl[] is a table in ROM, used to return the bit position of the highest priority bit set - a number between 0 and 7. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f2606f345f93aaea0cfe3d68b2985c1"></a><!-- doxytag: member="rkh.h::rkh_version" ref="a8f2606f345f93aaea0cfe3d68b2985c1" args="[]" -->
RKHROM char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a8f2606f345f93aaea0cfe3d68b2985c1">rkh_version</a> []</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">String describing the RKH version. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad195de601474eff0a9fc06dc41500a2e"></a><!-- doxytag: member="rkh.h::rkheplist" ref="ad195de601474eff0a9fc06dc41500a2e" args="[RKH_MAX_EPOOL]" -->
RKH_DYNE_TYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ad195de601474eff0a9fc06dc41500a2e">rkheplist</a> [RKH_MAX_EPOOL]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Event pool list. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>RKH platform-independent interface. </p>
<p>This header file must be included in all modules (*.c files) that use RKH. </p>

<p>Definition in file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="ae6f82e01bd1cf3cdb5774c9c5c043128"></a><!-- doxytag: member="rkh.h::RKH_MODULE_VERSION" ref="ae6f82e01bd1cf3cdb5774c9c5c043128" args="(__fname, __version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_MODULE_VERSION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__fname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__version&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;static RKHROM char *const m_version = #__version;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro appears at the top of each C/C++ source file defining the version string for that file (module). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">__fname</td><td>file (module) name. </td></tr>
    <tr><td class="paramname">__version</td><td>file (module) version. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00056">56</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9d0627d4f275b0573a87724095d28695"></a><!-- doxytag: member="rkh.h::RKH_MODULE_DESC" ref="a9d0627d4f275b0573a87724095d28695" args="(__fname, __desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_MODULE_DESC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__fname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__desc&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;static RKHROM char *const m_desc = __desc;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro appears at the top of each C/C++ source file defining the description string for that file (module). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">__fname</td><td>file (module) name. </td></tr>
    <tr><td class="paramname">__desc</td><td>file (module) description. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00078">78</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0a70ee0cbf5b1738be4c9463c529ce72"></a><!-- doxytag: member="rkh.h::ELSE" ref="a0a70ee0cbf5b1738be4c9463c529ce72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ELSE&#160;&#160;&#160;rkh_else</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Each condition connector can have one special branch with a guard labeled ELSE, which is taken if all the guards on the other branches are false. </p>
<p>A guard function takes the state machine pointer and the event pointer as arguments. These arguments are optional, thus they could be eliminated in compile-time by means of RKH_EN_GRD_EVT_ARG and RKH_EN_GRD_HSM_ARG preprocessor directives. </p>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00170">170</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="acc24b2221cd374e66732a09fb24b56ce"></a><!-- doxytag: member="rkh.h::RKH_CREATE_COMP_STATE" ref="acc24b2221cd374e66732a09fb24b56ce" args="(name, id, en, ex, parent, defchild, history)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_COMP_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">en, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ex, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">parent, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">defchild, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">history&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                extern RKHROM <a class="code" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> name##_trtbl[];   \
                                                                        \
                                RKHROM <a class="code" href="struct_r_k_h_s_c_m_p___t.html" title="Describes a composite state.">RKHSCMP_T</a> name =                 \
                                {                                       \
                                    MKBASE(RKH_COMPOSITE,<span class="keywordtype">id</span>),           \
                                    MKST(en,ex,parent),                 \
                                    MKCOMP(name,defchild,history)       \
                                }
</pre></div>
<p>This macro creates a composite state. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_c_m_p___t.html" title="Describes a composite state.">RKHSCMP_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>state name. Represents a composite state structure. </td></tr>
    <tr><td class="paramname">id</td><td>the value of state ID. This argument is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_STATE_ID = 0. </td></tr>
    <tr><td class="paramname">en</td><td>pointer to state entry action. This argument is optional, thus it could be declared as NULL. The RKH implementation preserves the transition sequence imposed by Harel's Statechart and UML. </td></tr>
    <tr><td class="paramname">ex</td><td>pointer to state exit action. This argument is optional, thus it could be declared as NULL. The RKH implementation preserves the transition sequence imposed by Harel's Statechart and UML. </td></tr>
    <tr><td class="paramname">parent</td><td>pointer to parent state. </td></tr>
    <tr><td class="paramname">defchild</td><td>pointer to default child state or pseudostate. </td></tr>
    <tr><td class="paramname">history</td><td>pointer history pseudostate. This argument is optional, thus it could be declared as NULL. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00198">198</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3567a7f91a5dc5759747dc8528357b44"></a><!-- doxytag: member="rkh.h::RKH_CREATE_BASIC_STATE" ref="a3567a7f91a5dc5759747dc8528357b44" args="(name, id, en, ex, parent, prepro)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_BASIC_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">en, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ex, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">parent, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">prepro&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                extern RKHROM <a class="code" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> name##_trtbl[];   \
                                                                        \
                                RKHROM <a class="code" href="struct_r_k_h_s_b_s_c___t.html" title="Describes a basic state.">RKHSBSC_T</a> name =                 \
                                {                                       \
                                    MKBASE(RKH_BASIC,<span class="keywordtype">id</span>),               \
                                    MKST(en,ex,parent),                 \
                                    MKBASIC(name,prepro)                \
                                }
</pre></div>
<p>This macro creates a basic state. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_b_s_c___t.html" title="Describes a basic state.">RKHSBSC_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>state name. Represents a basic state structure. </td></tr>
    <tr><td class="paramname">id</td><td>the value of state ID. This argument is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_STATE_ID = 0. </td></tr>
    <tr><td class="paramname">en</td><td>pointer to state entry action. This argument is optional, thus it could be declared as NULL. The RKH implementation preserves the transition sequence imposed by Harel's Statechart and UML. </td></tr>
    <tr><td class="paramname">ex</td><td>pointer to state exit action. This argument is optional, thus it could be declared as NULL. The RKH implementation preserves the transition sequence imposed by Harel's Statechart and UML. </td></tr>
    <tr><td class="paramname">parent</td><td>pointer to parent state. </td></tr>
    <tr><td class="paramname">prepro</td><td>pointer to input preprocessor function. This function could be called "Moore" action. This argument is optional, thus it could be declared as NULL. Aditionally, by means of single inheritance in C it could be used as state's abstract data. Moreover, implementing the single inheritance in C is very simply by literally embedding the base type, RKHPPRO_T in this case, as the first member of the derived structure. See <em>prepro</em> member of <a class="el" href="struct_r_k_h_s_b_s_c___t.html" title="Describes a basic state.">RKHSBSC_T</a> structure for more information. Example: <div class="fragment"><pre class="fragment">                    <span class="keyword">static</span> <a class="code" href="rkhevt_8h.html#a8a78cec3a9dfc2336bd084c221e15e10">RKHE_T</a>
                    preprocessor( <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *pe )
                    {
                        ...
                    }
                    <span class="keyword">typedef</span> <span class="keyword">struct</span>
                    {
                        <a class="code" href="rkhitl_8h.html#a3f1afca9ba9935082740bf026862729c" title="Event preprocessor.">RKHPPRO_T</a> prepro;   <span class="comment">// extend the RKHPPRO_T class</span>
                        <span class="keywordtype">unsigned</span> min:4;
                        <span class="keywordtype">unsigned</span> max:4;
                        <span class="keywordtype">char</span> *buff;
                    } SDATA_T;
                    
                    <span class="keyword">static</span> <span class="keyword">const</span> SDATA_T option = { preprocessor,4,8,token1 };
                    
                    <a class="code" href="rkh_8h.html#a3567a7f91a5dc5759747dc8528357b44" title="This macro creates a basic state.">RKH_CREATE_BASIC_STATE</a>( S111, 0, set_x_1, 
                                            NULL, &amp;S11, preprocessor ); 
                    <a class="code" href="rkh_8h.html#a3567a7f91a5dc5759747dc8528357b44" title="This macro creates a basic state.">RKH_CREATE_BASIC_STATE</a>( S22, 0, set_x_4, 
                                            NULL, &amp;S2, (<a class="code" href="rkhitl_8h.html#a3f1afca9ba9935082740bf026862729c" title="Event preprocessor.">RKHPPRO_T</a>*)&amp;option ); 
</pre></div> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00264">264</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ade7387dead9112bd67580de3350aee51"></a><!-- doxytag: member="rkh.h::RKH_CREATE_COND_STATE" ref="ade7387dead9112bd67580de3350aee51" args="(name, id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_COND_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                extern RKHROM <a class="code" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> name##_trtbl[];   \
                                                                        \
                                RKHROM <a class="code" href="struct_r_k_h_s_c_o_n_d___t.html" title="Describes the conditional pseudostate.">RKHSCOND_T</a> name =                \
                                {                                       \
                                    MKBASE(RKH_CONDITIONAL,<span class="keywordtype">id</span>),         \
                                    name##_trtbl                        \
                                }
</pre></div>
<p>This macro creates a conditional pseudostate. </p>
<p>Choice pseudostate (a.k.a conditional) which, when reached, result in the dynamic evaluation of the guards of its outgoing transitions. This realizes a dynamic conditional branch. It allows splitting of transitions into multiple outgoing paths such that the decision on which path to take may be a function of the results of prior actions performed in the same run-to-completion step. If more than one of the guards evaluates to true, an arbitrary one is selected. If none of the guards evaluates to true, then the model is considered ill-formed. To avoid this, it is recommended to define one outgoing transition with the predefined else guard for every choice pseudostate. Also, branches cannot contain triggers, but in addition to a guard they may contain actions. A branch can enter another condition connector, thus providing for the nesting of branches.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_c_o_n_d___t.html" title="Describes the conditional pseudostate.">RKHSCOND_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>pseudostate name. Represents a conditional pseudostate structure. </td></tr>
    <tr><td class="paramname">id</td><td>the value of state ID. This argument is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_STATE_ID = 0. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00304">304</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9f73c81d95a4bd5bec21e10ea6f05add"></a><!-- doxytag: member="rkh.h::RKH_CREATE_JUNCTION_STATE" ref="a9f73c81d95a4bd5bec21e10ea6f05add" args="(name, id, action, target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_JUNCTION_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">action, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">target&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                RKHROM <a class="code" href="struct_r_k_h_s_j_u_n_c___t.html" title="Describes the junction pseudostate.">RKHSJUNC_T</a> name =                \
                                {                                       \
                                    MKBASE(RKH_JUNCTION,<span class="keywordtype">id</span>),            \
                                    action, target                      \
                                }
</pre></div>
<p>This macro creates a junction pseudostate. </p>
<p>Transitions arrows can be joined using junction pseudostate. Multiple entrances and exits may be attached to a junction.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_j_u_n_c___t.html" title="Describes the junction pseudostate.">RKHSJUNC_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>pseudostate name. Represents a junction pseudostate structure. </td></tr>
    <tr><td class="paramname">id</td><td>the value of state ID. This argument is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_STATE_ID = 0. </td></tr>
    <tr><td class="paramname">action</td><td>pointer to transition action. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td class="paramname">target</td><td>pointer to target state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00335">335</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a49995aa34cddd68fcc6416655ca408f8"></a><!-- doxytag: member="rkh.h::RKH_CREATE_DEEP_HISTORY_STATE" ref="a49995aa34cddd68fcc6416655ca408f8" args="(name, id, parent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_DEEP_HISTORY_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">parent&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                        static RKHROM <a class="code" href="struct_r_k_h_s_t___t.html" title="Describes the common properties of regular states (basic, composite, and submachine).">RKHST_T</a> *ram##name;               \
                                                                        \
                        RKHROM <a class="code" href="struct_r_k_h_s_h_i_s_t___t.html" title="Describes the history pseudostate.">RKHSHIST_T</a> name =                        \
                        {                                               \
                            MKBASE(RKH_DHISTORY,<span class="keywordtype">id</span>),                    \
                            (RKHROM <span class="keyword">struct </span>rkhst_t *)parent,&amp;ram##name  \
                        }
</pre></div>
<p>This macro creates a deep history pseudostate. </p>
<p>Deep history applies downwards to all levels of nesting.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_h_i_s_t___t.html" title="Describes the history pseudostate.">RKHSHIST_T</a> structure definition for more information.</dd></dl>
<p>Arguments:</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>pseudostate name. Represents a deep history pseudostate structure. </td></tr>
    <tr><td class="paramname">id</td><td>the value of state ID. This argument is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_STATE_ID = 0. </td></tr>
    <tr><td class="paramname">parent</td><td>pointer to parent state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00363">363</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7a5376dd9929642f5b6e31def6d92bb4"></a><!-- doxytag: member="rkh.h::RKH_CREATE_SHALLOW_HISTORY_STATE" ref="a7a5376dd9929642f5b6e31def6d92bb4" args="(name, id, parent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_SHALLOW_HISTORY_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">parent&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                        static RKHROM <a class="code" href="struct_r_k_h_s_t___t.html" title="Describes the common properties of regular states (basic, composite, and submachine).">RKHST_T</a> *ram##name;               \
                                                                        \
                        RKHROM <a class="code" href="struct_r_k_h_s_h_i_s_t___t.html" title="Describes the history pseudostate.">RKHSHIST_T</a> name =                        \
                        {                                               \
                            MKBASE(RKH_SHISTORY,<span class="keywordtype">id</span>),                    \
                            (RKHROM <span class="keyword">struct </span>rkhst_t *)parent,&amp;ram##name  \
                        }
</pre></div>
<p>This macro creates a shallow history pseudostate. </p>
<p>Shallow history means that history applies to the current nesting context only  states nested more deeply are not affected by the presence of a history pseudostates in a higher context.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_h_i_s_t___t.html" title="Describes the history pseudostate.">RKHSHIST_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>pseudostate name. Represents a shallow history pseudostate structure. </td></tr>
    <tr><td class="paramname">id</td><td>the value of state ID. This argument is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_STATE_ID = 0. </td></tr>
    <tr><td class="paramname">parent</td><td>pointer to parent state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00393">393</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5a859233f4fab22d4b321c6ac122d382"></a><!-- doxytag: member="rkh.h::RKH_CREATE_SUBMACHINE_STATE" ref="a5a859233f4fab22d4b321c6ac122d382" args="(name, id, en, ex, parent, sbm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_SUBMACHINE_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">en, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ex, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">parent, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sbm&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                            extern RKHROM <a class="code" href="struct_r_k_h_e_x_p_c_n___t.html" title="Describes the exit point connection.">RKHEXPCN_T</a> name##_exptbl[];   \
                            extern RKHROM <a class="code" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> name##_trtbl[];       \
                                                                        \
                            RKHROM <a class="code" href="struct_r_k_h_s_s_b_m___t.html" title="Describes a submachine state.">RKHSSBM_T</a> name =                     \
                            {                                           \
                                MKBASE(RKH_SUBMACHINE,<span class="keywordtype">id</span>),              \
                                MKST(en,ex,parent),                     \
                                MKSBM(name,sbm)                         \
                            }
</pre></div>
<p>This macro creates a submachine state. </p>
<p>A submachine state is a kind of a state that actually refers to another defined state machine. A submachine state is logically equivalent to the insertion of the referenced state machine as a composite state in the place of the submachine state. Consequently, every entrance to a submachine state is equivalent to the corresponding entrance to the inserted (referenced) composite state. In particular, it can be entered thruough its initial pseudostate (as any other composite state), or through one of its entry points.</p>
<p>Similary, every exit from a submachine state is equivalent to the corresponding exit from the inserted composite state. It can be exited through one of its exit points. When it is exited through its exit point the effect of the transition targeting the exit point is executed first, followed by the exit behavior of the composite state.</p>
<p>The purpose od defining submachine states is to decompose and localize repetitive parts because the same state machine can be referenced from more than one submachine state.</p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#a5a859233f4fab22d4b321c6ac122d382" title="This macro creates a submachine state.">RKH_CREATE_SUBMACHINE_STATE</a>(    adquire,        <span class="comment">// state name</span>
                                    1,              <span class="comment">// ID</span>
                                    start_adquire,  <span class="comment">// entry action</span>
                                    stop_adquire,   <span class="comment">// exit action</span>
                                    &amp;processing,    <span class="comment">// parent state</span>
                                    &amp;herror );      <span class="comment">// referenced submachine</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_s_b_m___t.html" title="Describes a submachine state.">RKHSSBM_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>submachine state name. Represents a submachine state structure. </td></tr>
    <tr><td class="paramname">id</td><td>the value of submachine state ID. This argument is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_STATE_ID = 0. </td></tr>
    <tr><td class="paramname">en</td><td>pointer to state entry action. This argument is optional, thus it could be declared as NULL. The RKH implementation preserves the transition sequence imposed by Harel's Statechart and UML. </td></tr>
    <tr><td class="paramname">ex</td><td>pointer to state exit action. This argument is optional, thus it could be declared as NULL. The RKH implementation preserves the transition sequence imposed by Harel's Statechart and UML. </td></tr>
    <tr><td class="paramname">parent</td><td>pointer to parent state. </td></tr>
    <tr><td class="paramname">sbm</td><td>pointer to referenced submachine state machine. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00457">457</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa3f5f174502580a9edfb478612ef55a4"></a><!-- doxytag: member="rkh.h::RKH_CREATE_EX_CNNPNT_TABLE" ref="aa3f5f174502580a9edfb478612ef55a4" args="(name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_EX_CNNPNT_TABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;RKHROM <a class="el" href="struct_r_k_h_e_x_p_c_n___t.html">RKHEXPCN_T</a> name##_exptbl[]={</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro creates a exit point connection point reference table. This table have the general structure shown below: </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#aa3f5f174502580a9edfb478612ef55a4" title="This macro creates a exit point connection point reference table. This table have the general structu...">RKH_CREATE_EX_CNNPNT_TABLE</a>( S2 )
        <a class="code" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT</a>( EX1S2, &amp;EXPNT1, NULL, &amp;S1 ),
        <a class="code" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT</a>( EX2S2, &amp;EXPNT2, NULL, &amp;S3 ),
    <a class="code" href="rkh_8h.html#a2b628df718de30cfd38b26a23155a84a" title="This macro is used to terminate a exit point connection reference table. This table have the general ...">RKH_END_EX_CNNPNT_TABLE</a>
</pre></div><p>Each exit point connection reference table always begins with the macro <a class="el" href="rkh_8h.html#aa3f5f174502580a9edfb478612ef55a4" title="This macro creates a exit point connection point reference table. This table have the general structu...">RKH_CREATE_EX_CNNPNT_TABLE()</a> and ends with the macro <a class="el" href="rkh_8h.html#a2b628df718de30cfd38b26a23155a84a" title="This macro is used to terminate a exit point connection reference table. This table have the general ...">RKH_END_EX_CNNPNT_TABLE()</a>. As noted above, sandwiched between these macros are the exit point macros, <a class="el" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT()</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro is not terminated with the semicolon.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>submachine state name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00493">493</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a52faf20342a2e105698b7b4c50952ba1"></a><!-- doxytag: member="rkh.h::RKH_EX_CNNPNT" ref="a52faf20342a2e105698b7b4c50952ba1" args="(name, expnt, act, ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_EX_CNNPNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expnt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">act, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ts&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{act, (RKHROM struct rkhst_t *)ts}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro creates an exit point connection point reference. </p>
<p>Connection point references are sources/targets of transitions implying exits out of/entries into the submachine state machine referenced by a submachine state.</p>
<p>An exit point connection point reference as the source of a transition implies that the source of the transition is the exit point pseudostate as defined in the submachine of the submachine state that has the exit point connection point defined.</p>
<p>A connection point reference to an exit point has the same notation as an exit point pseudostate.</p>
<div class="fragment"><pre class="fragment">    <span class="comment">// --- exit point pseudostates of SB submachine ---</span>
    <a class="code" href="rkh_8h.html#a6fe42cdda8a3148e73f7eede949df02b" title="This macro creates an exit point.">RKH_CREATE_REF_EXPNT</a>(   EXPNT1, 
                            0,      <span class="comment">// index of exit point connection table</span>
                            &amp;SB );
    <a class="code" href="rkh_8h.html#a6fe42cdda8a3148e73f7eede949df02b" title="This macro creates an exit point.">RKH_CREATE_REF_EXPNT</a>(   EXPNT2, 
                            1,      <span class="comment">// index of exit point connection table</span>
                            &amp;SB );
                            ...
    <span class="comment">// --- exit point connection references of S12 submachine state ---</span>
    <a class="code" href="rkh_8h.html#aa3f5f174502580a9edfb478612ef55a4" title="This macro creates a exit point connection point reference table. This table have the general structu...">RKH_CREATE_EX_CNNPNT_TABLE</a>( S12 )
        <a class="code" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT</a>( EX1S12, &amp;EXPNT1, ... ), <span class="comment">// table index = 0 (EXPNT1)</span>
        <a class="code" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT</a>( EX2S12, &amp;EXPNT2, ... ), <span class="comment">// table index = 1 (EXPNT2)</span>
    <a class="code" href="rkh_8h.html#a2b628df718de30cfd38b26a23155a84a" title="This macro is used to terminate a exit point connection reference table. This table have the general ...">RKH_END_EX_CNNPNT_TABLE</a>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_e_x_p_c_n___t.html" title="Describes the exit point connection.">RKHEXPCN_T</a> structure definition for more information.</dd></dl>
<div class="fragment"><pre class="fragment"></pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>exit point connection point reference name. </td></tr>
    <tr><td class="paramname">expnt</td><td>referenced exit point. </td></tr>
    <tr><td class="paramname">act</td><td>pointer to transition action function. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td class="paramname">ts</td><td>pointer to target state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00542">542</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2b628df718de30cfd38b26a23155a84a"></a><!-- doxytag: member="rkh.h::RKH_END_EX_CNNPNT_TABLE" ref="a2b628df718de30cfd38b26a23155a84a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_END_EX_CNNPNT_TABLE&#160;&#160;&#160;};</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro is used to terminate a exit point connection reference table. This table have the general structure shown below: </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#aa3f5f174502580a9edfb478612ef55a4" title="This macro creates a exit point connection point reference table. This table have the general structu...">RKH_CREATE_EX_CNNPNT_TABLE</a>( S2 )
        <a class="code" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT</a>( EX1S2, &amp;EXPNT1, NULL, &amp;S1 ),
        <a class="code" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT</a>( EX2S2, &amp;EXPNT2, NULL, &amp;S3 ),
    <a class="code" href="rkh_8h.html#a2b628df718de30cfd38b26a23155a84a" title="This macro is used to terminate a exit point connection reference table. This table have the general ...">RKH_END_EX_CNNPNT_TABLE</a>
</pre></div><p>Each exit point table always begins with the macro <a class="el" href="rkh_8h.html#aa3f5f174502580a9edfb478612ef55a4" title="This macro creates a exit point connection point reference table. This table have the general structu...">RKH_CREATE_EX_CNNPNT_TABLE()</a> and ends with the macro <a class="el" href="rkh_8h.html#a2b628df718de30cfd38b26a23155a84a" title="This macro is used to terminate a exit point connection reference table. This table have the general ...">RKH_END_EX_CNNPNT_TABLE()</a>. As noted above, sandwiched between these macros are the exit point macros, <a class="el" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT()</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro is not terminated with the semicolon. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00567">567</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab2920eb4e81a05b2002a9f49a44a3394"></a><!-- doxytag: member="rkh.h::RKH_EN_CNNPNT" ref="ab2920eb4e81a05b2002a9f49a44a3394" args="(name, enpnt, subm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_EN_CNNPNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">enpnt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">subm&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                            RKHROM <a class="code" href="struct_r_k_h_s_e_n_p___t.html" title="Describes the entry point pseudostate.">RKHSENP_T</a> name =     \
                            {                           \
                                MKBASE(RKH_ENPOINT,<span class="keywordtype">id</span>), \
                                MKENP(enpnt,subm)       \
                            }
</pre></div>
<p>This macro creates an entry point connection point reference. </p>
<p>Connection point references are sources/targets of transitions implying exits out of/entries into the submachine state machine referenced by a submachine state.</p>
<p>An entry point connection point reference as the target of a transition implies that the target of the transition is the entry point pseudostate as defined in the submachine of the submachine state.</p>
<p>A connection point reference to an entry point has the same notation as an entry point pseudostate.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_e_n_p___t.html" title="Describes the entry point pseudostate.">RKHSENP_T</a> structure definition for more information.</dd></dl>
<div class="fragment"><pre class="fragment"></pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>entry point connection point reference name. </td></tr>
    <tr><td class="paramname">enpnt</td><td>referenced entry point. </td></tr>
    <tr><td class="paramname">subm</td><td>pointer to submachine state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00596">596</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a72b7267205521b0be8f113e8832a9440"></a><!-- doxytag: member="rkh.h::RKH_CREATE_REF_SUBMACHINE" ref="a72b7267205521b0be8f113e8832a9440" args="(name, id, defchild, iact)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_REF_SUBMACHINE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">defchild, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">iact&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                static RKHROM <a class="code" href="struct_r_k_h_s_t___t.html" title="Describes the common properties of regular states (basic, composite, and submachine).">RKHST_T</a> *rdyp_##name;     \
                                                                        \
                                RKHROM <a class="code" href="struct_r_k_h_r_s_m___t.html" title="Describes a (referenced) submachine state machine.">RKHRSM_T</a> name =                  \
                                {                                       \
                                    MKBASE(RKH_REF_SUBMACHINE,<span class="keywordtype">id</span>),      \
                                    MKMCH(defchild,iact,name)           \
                                }
</pre></div>
<p>This macro creates a submachine state machine, which is to be inserted in place of the (submachine) state. </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#a72b7267205521b0be8f113e8832a9440" title="This macro creates a submachine state machine, which is to be inserted in place of the (submachine) s...">RKH_CREATE_REF_SUBMACHINE</a>(  adquire, 
                                4, 
                                &amp;wait, 
                                init_adquire );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_r_s_m___t.html" title="Describes a (referenced) submachine state machine.">RKHRSM_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>submachine name. Represents a submachine structure. </td></tr>
    <tr><td class="paramname">id</td><td>the value of submachine ID. This argument is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_STATE_ID = 0. </td></tr>
    <tr><td class="paramname">defchild</td><td>pointer to default child state. </td></tr>
    <tr><td class="paramname">iact</td><td>pointer to initialization action (optional). The function prototype is defined as RKHINIT_T. This argument is optional, thus it could be declared as NULL. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00631">631</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6fe42cdda8a3148e73f7eede949df02b"></a><!-- doxytag: member="rkh.h::RKH_CREATE_REF_EXPNT" ref="a6fe42cdda8a3148e73f7eede949df02b" args="(name, ix, subm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_REF_EXPNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ix, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">subm&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                            RKHROM <a class="code" href="struct_r_k_h_s_e_x_p___t.html" title="Describes the exit point pseudostate.">RKHSEXP_T</a> name =     \
                            {                           \
                                MKBASE(RKH_EXPOINT,0),  \
                                ix, subm                \
                            }
</pre></div>
<p>This macro creates an exit point. </p>
<p>An exit pseudostate is used to join an internal transition terminating on that exit point to an external transition emanating from that exit point. The main purpose of such entry and exit points is to execute the state entry and exit actions respectively in between the actions that are associated with the joined transitions.</p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#a6fe42cdda8a3148e73f7eede949df02b" title="This macro creates an exit point.">RKH_CREATE_REF_EXPNT</a>(   handled, 
                            0, 
                            &amp;handle_error );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_e_x_p___t.html" title="Describes the exit point pseudostate.">RKHSEXP_T</a> structure definition for more information.</dd></dl>
<div class="fragment"><pre class="fragment">    <span class="comment">// --- exit point pseudostates of SB submachine ---</span>
    <a class="code" href="rkh_8h.html#a6fe42cdda8a3148e73f7eede949df02b" title="This macro creates an exit point.">RKH_CREATE_REF_EXPNT</a>(   EXPNT1, 
                            0,      <span class="comment">// index of exit point connection table</span>
                            &amp;SB );
    <a class="code" href="rkh_8h.html#a6fe42cdda8a3148e73f7eede949df02b" title="This macro creates an exit point.">RKH_CREATE_REF_EXPNT</a>(   EXPNT2, 
                            1,      <span class="comment">// index of exit point connection table</span>
                            &amp;SB );
                            ...
    <span class="comment">// --- exit point connection references of S12 submachine state ---</span>
    <a class="code" href="rkh_8h.html#aa3f5f174502580a9edfb478612ef55a4" title="This macro creates a exit point connection point reference table. This table have the general structu...">RKH_CREATE_EX_CNNPNT_TABLE</a>( S12 )
        <a class="code" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT</a>( EX1S12, &amp;EXPNT1, ... ), <span class="comment">// table index = 0 (EXPNT1)</span>
        <a class="code" href="rkh_8h.html#a52faf20342a2e105698b7b4c50952ba1" title="This macro creates an exit point connection point reference.">RKH_EX_CNNPNT</a>( EX2S12, &amp;EXPNT2, ... ), <span class="comment">// table index = 1 (EXPNT2)</span>
    <a class="code" href="rkh_8h.html#a2b628df718de30cfd38b26a23155a84a" title="This macro is used to terminate a exit point connection reference table. This table have the general ...">RKH_END_EX_CNNPNT_TABLE</a>
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>entry point name. </td></tr>
    <tr><td class="paramname">ix</td><td>index of exit point connection table. Note that each row number matches with the index number of the exit point pseudostate that it represent. </td></tr>
    <tr><td class="paramname">subm</td><td>pointer to submachine state machine. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00684">684</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7d5fb4c1cd362a3be3f07db0fc31caac"></a><!-- doxytag: member="rkh.h::RKH_CREATE_REF_ENPNT" ref="a7d5fb4c1cd362a3be3f07db0fc31caac" args="(name, act, ts, subm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_REF_ENPNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">act, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ts, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">subm&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                RKHROM <a class="code" href="struct_r_k_h_e_n_p_c_n___t.html" title="Describes the entry point connection.">RKHENPCN_T</a> name =                \
                                {                                       \
                                    act, (RKHROM <span class="keyword">struct </span>rkhst_t *)ts    \
                                }
</pre></div>
<p>This macro creates a entry point. </p>
<p>An entry pseudostate is used to join an external transition terminating on that entry point to an internal transition emanating from that entry point. The main purpose of such entry and exit points is to execute the state entry and exit actions respectively in between the actions that are associated with the joined transitions.</p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#a7d5fb4c1cd362a3be3f07db0fc31caac" title="This macro creates a entry point.">RKH_CREATE_REF_ENPNT</a>(   show, 
                            2, 
                            &amp;S2,
                            &amp;handle_error );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_e_n_p_c_n___t.html" title="Describes the entry point connection.">RKHENPCN_T</a> structure definition for more information.</dd></dl>
<div class="fragment"><pre class="fragment"></pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>entry point name. </td></tr>
    <tr><td class="paramname">act</td><td>pointer to transition action function. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td class="paramname">ts</td><td>pointer to target state. </td></tr>
    <tr><td class="paramname">subm</td><td>pointer to submachine state machine. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00724">724</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="aef55bd044383009972f38c332f8210a9"></a><!-- doxytag: member="rkh.h::RKH_CREATE_TRANS_TABLE" ref="aef55bd044383009972f38c332f8210a9" args="(name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_TRANS_TABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                RKHROM <a class="code" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> name##_trtbl[]={
</pre></div>
<p>This macro creates a state transition table. This table have the general structure shown below: </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#aef55bd044383009972f38c332f8210a9" title="This macro creates a state transition table. This table have the general structure shown below:...">RKH_CREATE_TRANS_TABLE</a>( state_name )        <span class="comment">// transition table begin</span>
        RKH_TRxx( ... )                         <span class="comment">// transition</span>
        RKH_TRxx( ... )                         <span class="comment">// transition</span>
        ...
    <a class="code" href="rkh_8h.html#a0e90290b709c86a39384ea5a4c95ac4f" title="This macro is used to terminate a state transition table. This table have the general structure shown...">RKH_END_TRANS_TABLE</a>                         <span class="comment">// transition table end</span>
</pre></div><p>Each transition table always begins with the macro <a class="el" href="rkh_8h.html#aef55bd044383009972f38c332f8210a9" title="This macro creates a state transition table. This table have the general structure shown below:...">RKH_CREATE_TRANS_TABLE()</a> and ends with the macro <a class="el" href="rkh_8h.html#a0e90290b709c86a39384ea5a4c95ac4f" title="This macro is used to terminate a state transition table. This table have the general structure shown...">RKH_END_TRANS_TABLE()</a>. As noted above, sandwiched between these macros are the transitions macros that actually represent behavior of state.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro is not terminated with the semicolon.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>state name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00755">755</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab0fc2ccb4b73d57ea0c0f478353a00f6"></a><!-- doxytag: member="rkh.h::RKH_TRREG" ref="ab0fc2ccb4b73d57ea0c0f478353a00f6" args="(e, g, a, t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_TRREG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">g, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{ e, g, a, t }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro defines a regular state transition. The general syntax of an expression labelling a transition in a statechart is <em>"i[c]/a"</em> where <em>i</em> is the input that triggers the transition, <em>c</em> is a condition that guards the transition from being taken unless it is true when <em>i</em> occurs, and <em>a</em> is an action that is carried out if and when the transition is taken. All of these parts are optional. </p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#ab0fc2ccb4b73d57ea0c0f478353a00f6" title="This macro defines a regular state transition. The general syntax of an expression labelling a transi...">RKH_TRREG</a>(  TOUT0,              <span class="comment">// triggering event</span>
                is_full,            <span class="comment">// guard function</span>
                drop_frame,         <span class="comment">// action function</span>
                &amp;WAIT_SYNC )        <span class="comment">// next state</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>triggering event. </td></tr>
    <tr><td class="paramname">g</td><td>pointer to guard function. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td class="paramname">a</td><td>pointer to action function. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td class="paramname">t</td><td>pointer to target state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00789">789</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac257d157f98ef172e5e8c8725a293bdf"></a><!-- doxytag: member="rkh.h::RKH_TRINT" ref="ac257d157f98ef172e5e8c8725a293bdf" args="(e, g, a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_TRINT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">g, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{ e, g, a, NULL }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro defines an internal state transition. Internal transitions are simple reactions to events that never lead to change of state and consequently never cause execution of exit actions, entry actions, or initial transitions. </p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#ac257d157f98ef172e5e8c8725a293bdf" title="This macro defines an internal state transition. Internal transitions are simple reactions to events ...">RKH_TRINT</a>(  RCV_DATA,           <span class="comment">// triggering event</span>
                is_sync,            <span class="comment">// guard function</span>
                store_data )        <span class="comment">// action function</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>triggering event. </td></tr>
    <tr><td class="paramname">g</td><td>pointer to guard function. </td></tr>
    <tr><td class="paramname">a</td><td>pointer to action function. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00814">814</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0e90290b709c86a39384ea5a4c95ac4f"></a><!-- doxytag: member="rkh.h::RKH_END_TRANS_TABLE" ref="a0e90290b709c86a39384ea5a4c95ac4f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_END_TRANS_TABLE&#160;&#160;&#160;{ RKH_ANY, NULL, NULL, NULL }};</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro is used to terminate a state transition table. This table have the general structure shown below: </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#aef55bd044383009972f38c332f8210a9" title="This macro creates a state transition table. This table have the general structure shown below:...">RKH_CREATE_TRANS_TABLE</a>( state_name )        <span class="comment">// transition table begin</span>
        RKH_TRxx( ... )                         <span class="comment">// transition</span>
        RKH_TRxx( ... )                         <span class="comment">// transition</span>
        ...
    <a class="code" href="rkh_8h.html#a0e90290b709c86a39384ea5a4c95ac4f" title="This macro is used to terminate a state transition table. This table have the general structure shown...">RKH_END_TRANS_TABLE</a>                         <span class="comment">// transition table end</span>
</pre></div><p>Each transition table always begins with the macro <a class="el" href="rkh_8h.html#aef55bd044383009972f38c332f8210a9" title="This macro creates a state transition table. This table have the general structure shown below:...">RKH_CREATE_TRANS_TABLE()</a> and ends with the macro <a class="el" href="rkh_8h.html#a0e90290b709c86a39384ea5a4c95ac4f" title="This macro is used to terminate a state transition table. This table have the general structure shown...">RKH_END_TRANS_TABLE()</a>. As noted above, sandwiched between these macros are the transitions macros that actually represent behavior of state.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro is not terminated with the semicolon. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00838">838</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57353c7dab6539b0a7ae92142b73ad2e"></a><!-- doxytag: member="rkh.h::RKH_CREATE_BRANCH_TABLE" ref="a57353c7dab6539b0a7ae92142b73ad2e" args="(name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_BRANCH_TABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                RKH_CREATE_TRANS_TABLE( name )
</pre></div><p>This macro creates a branch table. This table have the general structure shown below: </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#a57353c7dab6539b0a7ae92142b73ad2e">RKH_CREATE_BRANCH_TABLE</a>( C2 )
        <a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH</a>( is_power_ok,    enable_process, &amp;power      ),
        <a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH</a>( is_switch_off,  turnoff,        &amp;wait       ),
        <a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH</a>( <a class="code" href="rkh_8h.html#a0a70ee0cbf5b1738be4c9463c529ce72" title="Each condition connector can have one special branch with a guard labeled ELSE, which is taken if all...">ELSE</a>,           abort,          &amp;aborted    ),
    <a class="code" href="rkh_8h.html#a179912e226da08c982c9e93d77886c53" title="This macro is used to terminate a state transition table. This table have the general structure shown...">RKH_END_BRANCH_TABLE</a>
</pre></div><p>Each branch table always begins with the macro <a class="el" href="rkh_8h.html#a57353c7dab6539b0a7ae92142b73ad2e">RKH_CREATE_BRANCH_TABLE()</a> and ends with the macro <a class="el" href="rkh_8h.html#a179912e226da08c982c9e93d77886c53" title="This macro is used to terminate a state transition table. This table have the general structure shown...">RKH_END_BRANCH_TABLE()</a>. In RKH branches are defined by the macro <a class="el" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH()</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>This macro is not terminated with the semicolon. Use rkh_else() when if all the guards on the other branches are false.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>conditional pseudostate name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00863">863</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad1ebb38b7398d7f4ec60ef3e0922d033"></a><!-- doxytag: member="rkh.h::RKH_BRANCH" ref="ad1ebb38b7398d7f4ec60ef3e0922d033" args="(g, a, t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_BRANCH</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">g, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{ 0, g, a, t }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro defines a branch in the branch table. </p>
<p>Each condition connector can have one special branch with a guard labeled rkh_else, which is taken if all the guards on the other branches are false. The general syntax of an expression labelling a branch in a statechart is <em>"[c]/a"</em> where <em>c</em> is a condition that guards the transition from being taken unless it is true, and <em>a</em> is an action that is carried out if and when the transition is taken. All of these parts are optional.</p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#a57353c7dab6539b0a7ae92142b73ad2e">RKH_CREATE_BRANCH_TABLE</a>( C2 )
        <a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH</a>( is_power_ok,    enable_process, &amp;power      ),
        <a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH</a>( is_switch_off,  turnoff,        &amp;wait       ),
        <a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH</a>( ELSE,           abort,          &amp;aborted    ),
    <a class="code" href="rkh_8h.html#a179912e226da08c982c9e93d77886c53" title="This macro is used to terminate a state transition table. This table have the general structure shown...">RKH_END_BRANCH_TABLE</a>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>branch guard function. Branches are labeled with guards that determine which one is to be actually taken. Use ELSE macro when if all the guards on the other branches are false. </td></tr>
    <tr><td class="paramname">a</td><td>pointer to transition action. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td class="paramname">t</td><td>pointer to target state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00901">901</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a179912e226da08c982c9e93d77886c53"></a><!-- doxytag: member="rkh.h::RKH_END_BRANCH_TABLE" ref="a179912e226da08c982c9e93d77886c53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_END_BRANCH_TABLE&#160;&#160;&#160;RKH_EBTBL};</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro is used to terminate a state transition table. This table have the general structure shown below: </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkh_8h.html#a57353c7dab6539b0a7ae92142b73ad2e">RKH_CREATE_BRANCH_TABLE</a>( C2 )
        <a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH</a>( is_power_ok,    enable_process, &amp;power      ),
        <a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH</a>( is_switch_off,  turnoff,        &amp;wait       ),
        <a class="code" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033" title="This macro defines a branch in the branch table.">RKH_BRANCH</a>( ELSE,           abort,          &amp;aborted    ),
    <a class="code" href="rkh_8h.html#a179912e226da08c982c9e93d77886c53" title="This macro is used to terminate a state transition table. This table have the general structure shown...">RKH_END_BRANCH_TABLE</a>
</pre></div><p>Each branch table always begins with the macro <a class="el" href="rkh_8h.html#a57353c7dab6539b0a7ae92142b73ad2e">RKH_CREATE_BRANCH_TABLE()</a> and ends with the macro <a class="el" href="rkh_8h.html#a179912e226da08c982c9e93d77886c53" title="This macro is used to terminate a state transition table. This table have the general structure shown...">RKH_END_BRANCH_TABLE()</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>This macro is not terminated with the semicolon. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00931">931</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="aab4c88b9429479d470bde8e05b2feead"></a><!-- doxytag: member="rkh.h::RKH_SMA_DCLR" ref="aab4c88b9429479d470bde8e05b2feead" args="(sma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_SMA_DCLR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sma</td><td>)</td>
          <td>&#160;&#160;&#160;extern <a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *const sma</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro declares a opaque pointer to previously created state machine application (SMA) to be used as a global object. </p>
<p>This global pointer represent the state machine in the application. The state machine pointers are "opaque" because they cannot access the whole state machine structure, but only the part inherited from the <a class="el" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> structure. The power of an "opaque" pointer is that it allows to completely hide the definition of the state machine structure and make it inaccessible to the rest of the application.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the SMA's header file.</dd></dl>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <span class="comment">//  my.h: state-machine application&#39;s header file</span>
    
    <a class="code" href="rkh_8h.html#aab4c88b9429479d470bde8e05b2feead" title="This macro declares a opaque pointer to previously created state machine application (SMA) to be used...">RKH_SMA_DCLR</a>( my );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="rkh_8h.html#ae6c326c33b1cc4acf2529c628ba8c2aa" title="Declare and allocate a SMA (active object) derived from RKHSMA_T. Also, initializes and assigns a sta...">RKH_SMA_CREATE()</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00970">970</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab856423b3e65be3f55b7df3b2984e5fe"></a><!-- doxytag: member="rkh.h::RKH_DCLR_COMP_STATE" ref="ab856423b3e65be3f55b7df3b2984e5fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_COMP_STATE&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_c_m_p___t.html">RKHSCMP_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00983">983</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a483ad8fd1a11d5b823e58a2884e40f22"></a><!-- doxytag: member="rkh.h::RKH_DCLR_BASIC_STATE" ref="a483ad8fd1a11d5b823e58a2884e40f22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_BASIC_STATE&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_b_s_c___t.html">RKHSBSC_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00984">984</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae15f169feaafe7cf7e335e24e76039b9"></a><!-- doxytag: member="rkh.h::RKH_DCLR_COND_STATE" ref="ae15f169feaafe7cf7e335e24e76039b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_COND_STATE&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_c_o_n_d___t.html">RKHSCOND_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00985">985</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2862a673eba565cd2888ca5fb3405a38"></a><!-- doxytag: member="rkh.h::RKH_DCLR_JUNC_STATE" ref="a2862a673eba565cd2888ca5fb3405a38" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_JUNC_STATE&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_j_u_n_c___t.html">RKHSJUNC_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00986">986</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a042e46c64f90aa08a92db9e9d30e1959"></a><!-- doxytag: member="rkh.h::RKH_DCLR_DHIST_STATE" ref="a042e46c64f90aa08a92db9e9d30e1959" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_DHIST_STATE&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00987">987</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa618e2849fbd748f672bd5e0b3b6bb16"></a><!-- doxytag: member="rkh.h::RKH_DCLR_SHIST_STATE" ref="aa618e2849fbd748f672bd5e0b3b6bb16" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_SHIST_STATE&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00988">988</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a956285310d9b0cd90c5c9280b197f9fd"></a><!-- doxytag: member="rkh.h::RKH_DCLR_SUBM_STATE" ref="a956285310d9b0cd90c5c9280b197f9fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_SUBM_STATE&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_s_b_m___t.html">RKHSSBM_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00989">989</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae64a1788046bd972dd4e2e905c1d67ea"></a><!-- doxytag: member="rkh.h::RKH_DCLR_REF_SUBM" ref="ae64a1788046bd972dd4e2e905c1d67ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_REF_SUBM&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_r_s_m___t.html">RKHRSM_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00990">990</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="abbe3ba8a8a32cc7359ce715568e44cae"></a><!-- doxytag: member="rkh.h::RKH_DCLR_ENPNT" ref="abbe3ba8a8a32cc7359ce715568e44cae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_ENPNT&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_e_n_p___t.html">RKHSENP_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00991">991</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaa577ea93366c43f8fa3f801c464ba5d"></a><!-- doxytag: member="rkh.h::RKH_DCLR_REF_EXPNT" ref="aaa577ea93366c43f8fa3f801c464ba5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_REF_EXPNT&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_s_e_x_p___t.html">RKHSEXP_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00992">992</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a460aedcac6fc4799d4c14a33c2971ead"></a><!-- doxytag: member="rkh.h::RKH_DCLR_REF_ENPNT" ref="a460aedcac6fc4799d4c14a33c2971ead" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_REF_ENPNT&#160;&#160;&#160;extern RKHROM <a class="el" href="struct_r_k_h_e_n_p_c_n___t.html">RKHENPCN_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created state/pseudostate to be used as a global object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00993">993</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="adaee98e4b98dd79ea0ae3f930d695321"></a><!-- doxytag: member="rkh.h::RKH_DCLR_SM_GLOBAL" ref="adaee98e4b98dd79ea0ae3f930d695321" args="(sma_t, sm, gob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_SM_GLOBAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sma_t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">gob&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;sma_t * const gob = &amp;s_##sm;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares a previously created SMA to be used as a global object. </p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <span class="comment">//  g_my: global pointer to SMA &quot;my&quot;.</span>
    <a class="code" href="rkh_8h.html#adaee98e4b98dd79ea0ae3f930d695321" title="Declares a previously created SMA to be used as a global object.">RKH_DCLR_SM_GLOBAL</a>( MYSM_T, my, g_my );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> structure definition for more information. Also, <a class="el" href="struct_r_k_h_e_v_t___t.html">single inheritance in C </a>, and <a class="el" href="rkh_8h.html#a3567a7f91a5dc5759747dc8528357b44">another example </a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma_t</td><td>data type of SMA. </td></tr>
    <tr><td class="paramname">sm</td><td>name of previously created SMA. </td></tr>
    <tr><td class="paramname">gob</td><td>name of global object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's module. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l01020">1020</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae6c326c33b1cc4acf2529c628ba8c2aa"></a><!-- doxytag: member="rkh.h::RKH_SMA_CREATE" ref="ae6c326c33b1cc4acf2529c628ba8c2aa" args="(sma_t, id, name, prio, ppty, ist, iact, ievt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_SMA_CREATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sma_t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">prio, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ppty, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ist, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">iact, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ievt&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
    static RKHROM <a class="code" href="struct_r_o_m_r_k_h___t.html" title="Constant parameters of state machine.">ROMRKH_T</a> rs_##name = MKRRKH(  prio, ppty, <span class="keywordtype">id</span>, ist,        \
                                                iact, ievt );               \
    static sma_t s_##name = MKSMA( &amp;rs_##name,ist );                        \
    RKHSMA_T *<span class="keyword">const</span> name = ( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a>* )&amp;s_##name
</pre></div>
<p>Declare and allocate a SMA (active object) derived from <a class="el" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a>. Also, initializes and assigns a state machine to previously declared SMA. </p>
<p>In the UML specification, every state machine has a top state (the abstract root of every state machine hierarchy), which contains all the other elements of the entire state machine. RKH provides the top state using the macro <a class="el" href="rkh_8h.html#ae6c326c33b1cc4acf2529c628ba8c2aa" title="Declare and allocate a SMA (active object) derived from RKHSMA_T. Also, initializes and assigns a sta...">RKH_SMA_CREATE()</a>. Frequently, <a class="el" href="rkh_8h.html#ae6c326c33b1cc4acf2529c628ba8c2aa" title="Declare and allocate a SMA (active object) derived from RKHSMA_T. Also, initializes and assigns a sta...">RKH_SMA_CREATE()</a> is used within state-machine's module (.c file), thus the structure definition is in fact entirely encapsulated in its module and is inaccessible to the rest of the application. However, use the <a class="el" href="rkh_8h.html#aab4c88b9429479d470bde8e05b2feead" title="This macro declares a opaque pointer to previously created state machine application (SMA) to be used...">RKH_SMA_DCLR()</a> macro to declare a "opaque" pointer to that state machine application structure to be used in the rest of the application but hiding the proper definition. <a class="el" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> is not intended to be instantiated directly, but rather serves as the base structure for derivation of state machines in the application code. The following example illustrates how to derive an state machine from <a class="el" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a>. Please note that the <a class="el" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> member sm is defined as the FIRST member of the derived structure.</p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    ...within state-machine application<span class="stringliteral">&#39;s module</span>
<span class="stringliteral"></span>
<span class="stringliteral">    typedef struct</span>
<span class="stringliteral">    {</span>
<span class="stringliteral">        RKHSMA_T sm;    // base structure</span>
<span class="stringliteral">        rkhui8_t x;     // private member</span>
<span class="stringliteral">        rkhui8_t y;     // private member</span>
<span class="stringliteral">    } MYSM_T;</span>
<span class="stringliteral"></span>
<span class="stringliteral">    //  static instance of SMA object</span>
<span class="stringliteral">    RKH_SMA_CREATE( MYSM_T, 0, my, 0, HCAL, &amp;S1, my_iaction, &amp;my_ievent );</span>
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma_t</td><td>data type of the SMA. Could be derived from <a class="el" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a>. </td></tr>
    <tr><td class="paramname">id</td><td>ID of state machine application. This number allows to uniquely identify a state machine. This argument is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_ID = 0. </td></tr>
    <tr><td class="paramname">name</td><td>name of state machine application. Also, it represents the top state of state diagram. </td></tr>
    <tr><td class="paramname">prio</td><td>state machine application priority. A unique priority number must be assigned to each SMA from 0 to RKH_LOWEST_PRIO. The lower the number, the higher the priority. </td></tr>
    <tr><td class="paramname">ppty</td><td>state machine properties. The available properties are enumerated in RKH_HPPTY_T enumeration in the <a class="el" href="rkh_8h.html" title="RKH platform-independent interface.">rkh.h</a> file. </td></tr>
    <tr><td class="paramname">ist</td><td>pointer to initial state. This state could be defined either composite or basic (not pseudo-state). </td></tr>
    <tr><td class="paramname">iact</td><td>pointer to initialization action (optional). The function prototype is defined as RKHINIT_T. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td class="paramname">ievt</td><td>pointer to an event that will be passed to state machine application when it starts. Could be used to pass arguments to the state machine like an argc/argv. This argument is optional, thus it could be declared as NULL or eliminated in compile-time with RKH_SMA_EN_IEVENT = 0. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l01394">1394</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a66808180348a0a822a0fa46328b7f7d9"></a><!-- doxytag: member="rkh.h::RKH_ALLOC_EVENT" ref="a66808180348a0a822a0fa46328b7f7d9" args="(et, e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_ALLOC_EVENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">et, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(et*)rkh_ae((<a class="el" href="rkhevt_8h.html#a97327b17e4be27368f9f6ad66ea1d785">RKHES_T</a>)sizeof(et),(<a class="el" href="rkhevt_8h.html#a8a78cec3a9dfc2336bd084c221e15e10">RKHE_T</a>)(e))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro dynamically creates a new event of type <em>et</em> with its signal. </p>
<p>The basic policy is to allocate the event from the first pool that has a block size big enough to fit the requested event size. RKH can manage up to three event pools (e.g., small, medium, and large events, like shirt sizes). It returns a pointer to the event already cast to the event type (et*). Here is an example of dynamic event allocation with the macro <a class="el" href="rkh_8h.html#a66808180348a0a822a0fa46328b7f7d9" title="This macro dynamically creates a new event of type et with its signal.">RKH_ALLOC_EVENT()</a>:</p>
<div class="fragment"><pre class="fragment">    MYEVT_T *mye = <a class="code" href="rkh_8h.html#a66808180348a0a822a0fa46328b7f7d9" title="This macro dynamically creates a new event of type et with its signal.">RKH_ALLOC_EVENT</a>( MYEVT_T, DATA );
    mye-&gt;y = mye-&gt;x = 0;
    ...
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>The assertions inside <a class="el" href="rkh_8h.html#a5588d1004e6041f7d6d6981470cee583" title="Internal RKH implementation of the dynamic event allocator.">rkh_ae()</a> function guarantee that the pointer is valid, so you don't need to check the pointer returned from <a class="el" href="rkh_8h.html#a5588d1004e6041f7d6d6981470cee583" title="Internal RKH implementation of the dynamic event allocator.">rkh_ae()</a>, unlike the value returned from malloc(), which you should check.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">et</td><td>type of event. </td></tr>
    <tr><td class="paramname">e</td><td>event signal. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l01752">1752</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5a62e6121174abd89d8a77b9ebef0736"></a><!-- doxytag: member="rkh.h::RKH_GC" ref="a5a62e6121174abd89d8a77b9ebef0736" args="(e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_GC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e</td><td>)</td>
          <td>&#160;&#160;&#160;rkh_gc( e )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recycle a dynamic event. </p>
<p>This macro implements a simple garbage collector for the dynamic events. Only dynamic events are candidates for recycling. (A dynamic event is one that is allocated from an event pool, which is determined as non-zero e-&gt;nref attribute.) Next, the function decrements the reference counter of the event, and recycles the event only if the counter drops to zero (meaning that no more references are outstanding for this event). The dynamic event is recycled by returning it to the pool from which it was originally allocated. The pool-of-origin information is stored in the e-&gt;pool member.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The function rkh_gc() is internal to RKH and the user application should not call it. Please use <a class="el" href="rkh_8h.html#a5a62e6121174abd89d8a77b9ebef0736" title="Recycle a dynamic event.">RKH_GC()</a> macro. </dd>
<dd>
The garbage collector must be explicitly invoked at all appropriate contexts, when an event can become garbage (automatic garbage collection). </dd>
<dd>
When setting RKH_EN_DYNAMIC_EVENT = 0 the garbage collector has not effect, thus it's eliminated in compile-time.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>pointer to event to be potentially recycled. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l01784">1784</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1e1ded09fc7d2c30b33a74ebccf1bc3e"></a><!-- doxytag: member="rkh.h::RKH_SET_STATIC_EVENT" ref="a1e1ded09fc7d2c30b33a74ebccf1bc3e" args="(e, es)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_SET_STATIC_EVENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">es&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;mksevt( e, es )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro initialize an event <em>e</em> with <em>es</em> signal and establishes it as one static event. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="rkh_8h.html#ac2d1fc13a6b019e7967db720d72dfcd8" title="This macro declares and initializes the event structure e with es signal and establishes it as one st...">RKH_DCLR_STATIC_EVENT()</a> macro.</dd></dl>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    ...
    <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> e;

    <a class="code" href="rkh_8h.html#a1e1ded09fc7d2c30b33a74ebccf1bc3e" title="This macro initialize an event e with es signal and establishes it as one static event.">RKH_SET_STATIC_EVENT</a>( &amp;e, TOUT );
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>pointer to event structure derived from <a class="el" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a>. </td></tr>
    <tr><td class="paramname">es</td><td>event signal. The RKH takes this value for triggering a state transition. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l01812">1812</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2d1fc13a6b019e7967db720d72dfcd8"></a><!-- doxytag: member="rkh.h::RKH_DCLR_STATIC_EVENT" ref="ac2d1fc13a6b019e7967db720d72dfcd8" args="(e, es)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_STATIC_EVENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">es&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;mkievt( e, es )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro declares and initializes the event structure <em>e</em> with <em>es</em> signal and establishes it as one static event. The created event object is explicitly placed in ROM. </p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    ...
    <span class="keyword">static</span> <a class="code" href="rkh_8h.html#ac2d1fc13a6b019e7967db720d72dfcd8" title="This macro declares and initializes the event structure e with es signal and establishes it as one st...">RKH_DCLR_STATIC_EVENT</a>( etimer, RPC_TIMER_RET );

    <span class="keywordtype">void</span>
    offhook( <span class="keywordtype">void</span> )
    {
        ...
        rkh_put_fifo( qphone, &amp;etimer );
    }
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>name of event structure (<a class="el" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a>). </td></tr>
    <tr><td class="paramname">es</td><td>event signal. The RKH takes this value for triggering a state transition. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l01840">1840</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a959530dcf7a5e0547c3ae9abf503787d"></a><!-- doxytag: member="rkh.h::rkh_get_cstate_id" ref="a959530dcf7a5e0547c3ae9abf503787d" args="(sma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rkh_get_cstate_id</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sma</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="struct_r_k_h_b_a_s_e___t.html">RKHBASE_T</a>*)((sma)-&gt;state))-&gt;id</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro retrieves the state ID of SMA. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Id of current state. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l02000">2000</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3"></a><!-- doxytag: member="rkh.h::RKH_RCODE_T" ref="ad7ffdf67be28296726e65d6b7223f5e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3">RKH_RCODE_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return codes from <a class="el" href="rkh_8h.html#ae56c0173d50898325d8e64eac816399b" title="Executes a state machine in a non-preemtive model.">rkh_dispatch()</a> function. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a567323b6c0efa1f3368064615c9d5dcd"></a><!-- doxytag: member="RKH_OK" ref="ad7ffdf67be28296726e65d6b7223f5e3a567323b6c0efa1f3368064615c9d5dcd" args="" -->RKH_OK</em>&nbsp;</td><td>
<p>The arrived event was succesfully processed and HSM resides in a allowed state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a0c9fe6c670ea1e83ca5c3a5666ca1181"></a><!-- doxytag: member="RKH_INPUT_NOT_FOUND" ref="ad7ffdf67be28296726e65d6b7223f5e3a0c9fe6c670ea1e83ca5c3a5666ca1181" args="" -->RKH_INPUT_NOT_FOUND</em>&nbsp;</td><td>
<p>The arrived event was't founded in the transition table. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a24fbaf67d8677779b69f3a133ec22772"></a><!-- doxytag: member="RKH_CONDITION_NOT_FOUND" ref="ad7ffdf67be28296726e65d6b7223f5e3a24fbaf67d8677779b69f3a133ec22772" args="" -->RKH_CONDITION_NOT_FOUND</em>&nbsp;</td><td>
<p>The branch function returned a value not founded in the branch table. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3ae46b1cbd592c25a27720783efb3b21f4"></a><!-- doxytag: member="RKH_GUARD_FALSE" ref="ad7ffdf67be28296726e65d6b7223f5e3ae46b1cbd592c25a27720783efb3b21f4" args="" -->RKH_GUARD_FALSE</em>&nbsp;</td><td>
<p>The transition was cancelled by guard function. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a067ecd2890ffed78d08680c9f029594c"></a><!-- doxytag: member="RKH_UNKNOWN_STATE" ref="ad7ffdf67be28296726e65d6b7223f5e3a067ecd2890ffed78d08680c9f029594c" args="" -->RKH_UNKNOWN_STATE</em>&nbsp;</td><td>
<p>Unknown state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a42666d274d23ded0e35db3b52a6681e8"></a><!-- doxytag: member="RKH_EXCEED_HCAL_LEVEL" ref="ad7ffdf67be28296726e65d6b7223f5e3a42666d274d23ded0e35db3b52a6681e8" args="" -->RKH_EXCEED_HCAL_LEVEL</em>&nbsp;</td><td>
<p>The transition exceeded the allowed hierarchical level. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a654591caeda5861a0c257b5696c330cf"></a><!-- doxytag: member="RKH_EXCEED_TRC_SEGS" ref="ad7ffdf67be28296726e65d6b7223f5e3a654591caeda5861a0c257b5696c330cf" args="" -->RKH_EXCEED_TRC_SEGS</em>&nbsp;</td><td>
<p>The transition exceeded the allowed number of segments within a compound transtion. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3adb6db8102ad27b1b187bc07070669243"></a><!-- doxytag: member="RKH_NUM_CODES" ref="ad7ffdf67be28296726e65d6b7223f5e3adb6db8102ad27b1b187bc07070669243" args="" -->RKH_NUM_CODES</em>&nbsp;</td><td>
<p>Number of returned codes </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l01029">1029</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a243967727eeb1814b24badfeda7b25b7"></a><!-- doxytag: member="rkh.h::RKH_HPPTY_T" ref="a243967727eeb1814b24badfeda7b25b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7">RKH_HPPTY_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>State machine properties. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda"></a><!-- doxytag: member="HCAL" ref="a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda" args="" -->HCAL</em>&nbsp;</td><td>
<p>Used as state machine property. This macro enables state nesting in a particular state machine. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a243967727eeb1814b24badfeda7b25b7a0338024d4d0d5bffed604c279f8f5550"></a><!-- doxytag: member="FLAT" ref="a243967727eeb1814b24badfeda7b25b7a0338024d4d0d5bffed604c279f8f5550" args="" -->FLAT</em>&nbsp;</td><td>
<p>Used as state machine property. This macro disables state nesting in a particular state machine. When FLAT is used in <a class="el" href="rkh_8h.html#ae6c326c33b1cc4acf2529c628ba8c2aa" title="Declare and allocate a SMA (active object) derived from RKHSMA_T. Also, initializes and assigns a sta...">RKH_SMA_CREATE()</a> macro some important features of RKH are not included: state nesting, composite state, history (shallow and deep) pseudostate, entry action, and exit action. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a243967727eeb1814b24badfeda7b25b7aac7de3818e7e86853c5306edd63bced3"></a><!-- doxytag: member="RKH_NUM_HPPTY" ref="a243967727eeb1814b24badfeda7b25b7aac7de3818e7e86853c5306edd63bced3" args="" -->RKH_NUM_HPPTY</em>&nbsp;</td><td>
<p>Number of state machines properties </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l01086">1086</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad92b1f5668618253476e76a58766c87f"></a><!-- doxytag: member="rkh.h::RKH_GRET_T" ref="ad92b1f5668618253476e76a58766c87f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rkh_8h.html#ad92b1f5668618253476e76a58766c87f">RKH_GRET_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This values are retrived by guard functions. </p>
<p>A guard is a boolean condition that returns a TRUE or FALSE value that controls whether or not a transition is taken following the receipt of a triggering event. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad92b1f5668618253476e76a58766c87fab2834a90f78254076ef72298dc9e5e95"></a><!-- doxytag: member="RKH_GFALSE" ref="ad92b1f5668618253476e76a58766c87fab2834a90f78254076ef72298dc9e5e95" args="" -->RKH_GFALSE</em>&nbsp;</td><td>
<p>False condition </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad92b1f5668618253476e76a58766c87fafe08c2d352ce11183556bab12489e736"></a><!-- doxytag: member="RKH_GTRUE" ref="ad92b1f5668618253476e76a58766c87fafe08c2d352ce11183556bab12489e736" args="" -->RKH_GTRUE</em>&nbsp;</td><td>
<p>True condition </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l01120">1120</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a348c60d5a5c6b1492ca55648e9aeeaf6"></a><!-- doxytag: member="rkh.h::rkh_init" ref="a348c60d5a5c6b1492ca55648e9aeeaf6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the RKH framework. </p>
<p>A requirement of RKH is that must be called <a class="el" href="rkh_8h.html#a348c60d5a5c6b1492ca55648e9aeeaf6" title="Initializes the RKH framework.">rkh_init()</a> before call any of its other services. This function initializes all of RKH's variables and data structures.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Platform-dependent function. All RKH ports must be define it in the RKH port file to a particular platform. However, only the ports to the external OS/RTOS usually need some code to bolt the framework to the external OS/RTOS.</dd></dl>
<p>Example for x86, VC2008, and win32 single thread: </p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a348c60d5a5c6b1492ca55648e9aeeaf6" title="Initializes the RKH framework.">rkh_init</a>( <span class="keywordtype">void</span> )
    {
        InitializeCriticalSection( &amp;csection );
        sma_is_rdy = CreateEvent( NULL, FALSE, FALSE, NULL );
    }
</pre></div> 
</div>
</div>
<a class="anchor" id="a6b8f47b2f288dd0cf2c8b44dd062d509"></a><!-- doxytag: member="rkh.h::rkh_enter" ref="a6b8f47b2f288dd0cf2c8b44dd062d509" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_enter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>RKH framework is started. </p>
<p>This entry function turns over control to RKH (and does not return!). This function runs the highest priority state machine application (SMA) that is ready to run in run-to-completation model.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The call to this function does not return. Hence, any code after it will never be executed.</dd>
<dd>
Platform-dependent function. All RKH ports must be define it in the RKH port file to a particular platform. However, only the ports to the external OS/RTOS usually need some code to bolt the framework to the external OS/RTOS.</dd></dl>
<p>Example for x86, VC2008, and win32 single thread: </p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a6b8f47b2f288dd0cf2c8b44dd062d509" title="RKH framework is started.">rkh_enter</a>( <span class="keywordtype">void</span> )
    { 
        rkhui8_t prio;
        <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma;
        <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> *e;

        RKH_HK_START();
        <a class="code" href="rkhtrc_8h.html#adc7d4420a30cd0208f897ec2bd9a0234">RKH_TRCR_RKH_EN</a>();
        running = 1;

        <span class="keywordflow">while</span>( running )
        {
            <a class="code" href="rkhitl_8h.html#a7401fd42aebee28b2e6eef2a9e4634e2" title="RKH need to disable interrupts in order to access critical sections of code, and re-enable interrupts...">RKH_ENTER_CRITICAL</a>( dummy );
            <span class="keywordflow">if</span>( <a class="code" href="rkhrdy_8h.html#a8a93c5eb6c2a9ad46bf37cc21a4f5eea" title="This macro evaluates to TRUE if any SMA is ready to run.">rkh_rdy_isnot_empty</a>( rkhrg ) ) 
            {
                <a class="code" href="rkhrdy_8h.html#ab5ba4ef6e05e88daeff78572d9f7cab6" title="Finding the highest priority SMA ready to run.">rkh_rdy_findh</a>( rkhrg, prio );
                <a class="code" href="rkhitl_8h.html#a42bd908ca2b52b24bb823187ba800076" title="RKH need to disable interrupts in order to access critical sections of code, and re-enable interrupts...">RKH_EXIT_CRITICAL</a>( dummy );
                
                sma = <a class="code" href="rkh_8h.html#a3a9318a6a79d7b808df2f75351ba0286" title="Priority arranged table of registered SMA.">rkh_sptbl</a>[ prio ];
                e = <a class="code" href="rkh_8h.html#af8993801a4f995bafb8870cde439cfb7" title="Get an event from the event queue of an state machine application. The events received are pointer si...">rkh_sma_get</a>( sma );
                <a class="code" href="rkh_8h.html#ae56c0173d50898325d8e64eac816399b" title="Executes a state machine in a non-preemtive model.">rkh_dispatch</a>( sma, e );
                <a class="code" href="rkh_8h.html#a5a62e6121174abd89d8a77b9ebef0736" title="Recycle a dynamic event.">RKH_GC</a>( e );
            }
            <span class="keywordflow">else</span>
                <a class="code" href="rkh_8h.html#a5edbaf8597b0b92d05d80dfddd891d52" title="An idle hook function will only get executed (with interrupts LOCKED) when there are no SMAs of highe...">rkh_hk_idle</a>();
        }
        
        <a class="code" href="rkh_8h.html#a2a7e209c4a5e7cd493d7e8870b576583" title="This hook function is called just before the RKH returns to the underlying OS/RTOS. Usually, the rkh_hk_exit() is useful when executing clean-up code upon SMA terminate or framework exit.">rkh_hk_exit</a>();
        CloseHandle( sma_is_rdy );
        DeleteCriticalSection( &amp;csection ); 
    }
</pre></div> 
</div>
</div>
<a class="anchor" id="ab18447f196fdd82c3d46617dff71a44c"></a><!-- doxytag: member="rkh.h::rkh_exit" ref="ab18447f196fdd82c3d46617dff71a44c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Exit the RKH framework. </p>
<p>Function invoked by the application layer to exit the RKH application and return control to the underlying OS/Kernel.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is strongly platform-dependent. All RKH ports and must be defined in the RKH port to a particular platform. Some RKH ports might not require implementing this function at all, because many embedded applications don't have anything to exit to.</dd>
<dd>
Platform-dependent function. All RKH ports must be defined in the RKH port file to a particular platform. However, only the ports to the external OS/RTOS usually need some code to bolt the framework to the external OS/RTOS.</dd></dl>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#ab18447f196fdd82c3d46617dff71a44c" title="Exit the RKH framework.">rkh_exit</a>( <span class="keywordtype">void</span> )
    {
        <a class="code" href="rkh_8h.html#a2a7e209c4a5e7cd493d7e8870b576583" title="This hook function is called just before the RKH returns to the underlying OS/RTOS. Usually, the rkh_hk_exit() is useful when executing clean-up code upon SMA terminate or framework exit.">rkh_hk_exit</a>();
        <a class="code" href="rkhtrc_8h.html#ae8422f0d96033146cf769d944968faad">RKH_TRCR_RKH_EX</a>();
    }
</pre></div> 
</div>
</div>
<a class="anchor" id="a7db674272d1231053666dcc21f5fbaba"></a><!-- doxytag: member="rkh.h::rkh_tim_tick" ref="a7db674272d1231053666dcc21f5fbaba" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_tim_tick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Keep tracks and updates the started timers. </p>
<p>Time intervals are measured by periodic timer interrupts. Each timer interrupt is called a timer-tick. The actual time between timer-ticks is specified by the application. This function must be placed where will be incrementing the system tick. Normally this function is placed in a timer ISR routine. If one or more timers expires the assigned event is directly posted into the state machine application (SMA) queue and associated hook function is executed (if it's used). The expiration events of timers that expire at the same time are executed in the order they were started. </p>

</div>
</div>
<a class="anchor" id="a02d78c8f4c9f8e2b9fb0cf57711c1220"></a><!-- doxytag: member="rkh.h::rkh_sma_activate" ref="a02d78c8f4c9f8e2b9fb0cf57711c1220" args="(RKHSMA_T *sma, const RKHEVT_T **qs, RKH_RQNE_T qsize, void *stks, rkhui32_t stksize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_sma_activate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> **&#160;</td>
          <td class="paramname"><em>qs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rkhrq_8h.html#a9b92c95ab477eb8e6f81dd35e16923a3">RKH_RQNE_T</a>&#160;</td>
          <td class="paramname"><em>qsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>stks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rkhui32_t&#160;</td>
          <td class="paramname"><em>stksize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes and activates a previously created state machine application. </p>
<p>A state machine application (SMA) is declared with the <a class="el" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> data type and is defined with the <a class="el" href="rkh_8h.html#a02d78c8f4c9f8e2b9fb0cf57711c1220" title="Initializes and activates a previously created state machine application.">rkh_sma_activate()</a> service.</p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    ...within state-machine application<span class="stringliteral">&#39;s module</span>
<span class="stringliteral"></span>
<span class="stringliteral">    typedef struct</span>
<span class="stringliteral">    {</span>
<span class="stringliteral">        RKHSMA_T sm;    // base structure</span>
<span class="stringliteral">        rkhui8_t x;     // private member</span>
<span class="stringliteral">        rkhui8_t y;     // private member</span>
<span class="stringliteral">    } MYSM_T;</span>
<span class="stringliteral"></span>
<span class="stringliteral">    //  static instance of SMA object</span>
<span class="stringliteral">    RKH_SMA_CREATE( MYSM_T, 0, my, HCAL, &amp;S1, my_iaction, &amp;my_ievent );</span>
<span class="stringliteral"></span>
<span class="stringliteral">    void</span>
<span class="stringliteral">    main( void )</span>
<span class="stringliteral">    {</span>
<span class="stringliteral">        ...</span>
<span class="stringliteral">        rkh_sma_activate( my, 4, qsto, sizeof( RKHEVT_T* ), (void*)0, 0 );</span>
<span class="stringliteral">    }</span>
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>Platform-dependent function. All RKH ports must be defined in the RKH port file to a particular platform. However, only the ports to the external OS/RTOS usually need some code to bolt the framework to the external OS/RTOS.</dd></dl>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a02d78c8f4c9f8e2b9fb0cf57711c1220" title="Initializes and activates a previously created state machine application.">rkh_sma_activate</a>(   <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma, <span class="keyword">const</span> <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> **qs, <a class="code" href="rkhrq_8h.html#a9b92c95ab477eb8e6f81dd35e16923a3" title="This data type defines the maximum number of elements that any queue can contain.">RKH_RQNE_T</a> qsize, 
                        <span class="keywordtype">void</span> *stks, rkhui32_t stksize )
    {
        ( void )stks;
        ( void )stksize;
        
        <a class="code" href="rkhrq_8h.html#a5ea237b158ef85877afd1d27ee765463" title="Initializes the previously allocated queue data strcuture RKHRQ_T.">rkh_rq_init</a>( &amp;sma-&gt;<a class="code" href="struct_r_k_h_s_m_a___t.html#ada52745b4c93d3ce9b3c54be210f668c" title="Event queue of the SMA.">equeue</a>, qs, qsize, sma );
        <a class="code" href="rkh_8h.html#aa66015888d344e3f9ebe604817dc19cc" title="Registers a state machine application into the framework, which implies to store a pointer to the SMA...">rkh_sma_register</a>( sma );
        <a class="code" href="rkh_8h.html#a395d701b816dd11bdd9835483607ae5f" title="Inits a previously created state machine calling its initializing action.">rkh_init_hsm</a>( sma );
        <a class="code" href="rkhtrc_8h.html#a966cd05e5ddf65df275a2a414e5d5c21">RKH_TRCR_SMA_ACT</a>( sma );
    }
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
    <tr><td class="paramname">qs</td><td>base address of the event storage area. A message storage area is declared as an array of pointers to RKH events. </td></tr>
    <tr><td class="paramname">qsize</td><td>size of the storage event area [in number of entries]. </td></tr>
    <tr><td class="paramname">stks</td><td>starting address of the stack's memory area. </td></tr>
    <tr><td class="paramname">stksize</td><td>size of stack memory area [in bytes]. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4923f3d24f0f3cea38d598f5b7db203c"></a><!-- doxytag: member="rkh.h::rkh_sma_terminate" ref="a4923f3d24f0f3cea38d598f5b7db203c" args="(RKHSMA_T *sma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_sma_terminate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Terminate a state machine application. </p>
<p>A state machine application may call this service to terminate itself. Once terminated, the state machine application must be re-created in order for it to execute again.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Platform-dependent function. All RKH ports must be defined in the RKH port file to a particular platform. However, only the ports to the external OS/RTOS usually need some code to bolt the framework to the external OS/RTOS.</dd></dl>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a4923f3d24f0f3cea38d598f5b7db203c" title="Terminate a state machine application.">rkh_sma_terminate</a>( <a class="code" href="struct_r_k_h_s_m_a___t.html" title="Describes the SMA (active object in UML).">RKHSMA_T</a> *sma )
    {
        <a class="code" href="rkh_8h.html#ab7f65892fe1948afc1b76a5f9eb0c8f0" title="Removes the SMA from the priority table, and thus from the framework, by simply replacing the link to...">rkh_sma_unregister</a>( sma );
        <a class="code" href="rkhtrc_8h.html#a12cc8760f638237c932580ae0c469462">RKH_TRCR_SMA_TERM</a>( sma );
    }
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac11aaa38aefb41673027b1baa44fdd3b"></a><!-- doxytag: member="rkh.h::rkh_sma_post_fifo" ref="ac11aaa38aefb41673027b1baa44fdd3b" args="(RKHSMA_T *sma, const RKHEVT_T *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_sma_post_fifo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send an event to a state machine application through a queue using the FIFO policy. A message is a pointer size variable and its use is application specific. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>For memory efficiency and best performance the SMA's event queue, STORE ONLY POINTERS to events, not the whole event objects. The assertion inside it guarantee that the pointer is valid, so is not necessary to check the pointer returned from <a class="el" href="rkh_8h.html#ac11aaa38aefb41673027b1baa44fdd3b" title="Send an event to a state machine application through a queue using the FIFO policy. A message is a pointer size variable and its use is application specific.">rkh_sma_post_fifo()</a>. </dd>
<dd>
Platform-dependent function. All RKH ports must be defined in the RKH port file to a particular platform. However, only the ports to the external OS/RTOS usually need some code to bolt the framework to the external OS/RTOS.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
    <tr><td class="paramname">e</td><td>actual event sent to the state machine application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8293c298ff040cc8277e6ded413f8037"></a><!-- doxytag: member="rkh.h::rkh_sma_post_lifo" ref="a8293c298ff040cc8277e6ded413f8037" args="(RKHSMA_T *sma, const RKHEVT_T *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_sma_post_lifo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send an event to a state machine application through a queue using the LIFO policy. A message is a pointer size variable and its use is application specific. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>For memory efficiency and best performance the SMA's event queue, STORE ONLY POINTERS to events, not the whole event objects. The assertion inside it guarantee that the pointer is valid, so is not necessary to check the pointer returned from <a class="el" href="rkh_8h.html#a8293c298ff040cc8277e6ded413f8037" title="Send an event to a state machine application through a queue using the LIFO policy. A message is a pointer size variable and its use is application specific.">rkh_sma_post_lifo()</a>. </dd>
<dd>
Platform-dependent function. All RKH ports must be defined in the RKH port file to a particular platform. However, only the ports to the external OS/RTOS usually need some code to bolt the framework to the external OS/RTOS.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
    <tr><td class="paramname">e</td><td>actual event sent to the state machine application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af8993801a4f995bafb8870cde439cfb7"></a><!-- doxytag: member="rkh.h::rkh_sma_get" ref="af8993801a4f995bafb8870cde439cfb7" args="(RKHSMA_T *sma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a>* rkh_sma_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get an event from the event queue of an state machine application. The events received are pointer size variables and their use is application specific. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Platform-dependent function. All RKH ports must be defined in the RKH port file to a particular platform. However, only the ports to the external OS/RTOS usually need some code to bolt the framework to the external OS/RTOS. Depending on the underlying OS or kernel, if no event is present at the queue, the function will block the current thread until an event is received.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A non-NULL pointer indicates that a event pointer was available, otherwise a NULL pointer. </dd></dl>

</div>
</div>
<a class="anchor" id="a5fbaacc4eb0692a0013c31fa2510b076"></a><!-- doxytag: member="rkh.h::rkh_sma_get_info" ref="a5fbaacc4eb0692a0013c31fa2510b076" args="(RKHSMA_T *sma, RKH_SMAI_T *psi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_sma_get_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_k_h___s_m_a_i___t.html">RKH_SMAI_T</a> *&#160;</td>
          <td class="paramname"><em>psi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves performance information for a particular state machine application. </p>
<p>The user application must allocate an <a class="el" href="struct_r_k_h___s_m_a_i___t.html" title="Defines the data structure into which the collected performance information for state machine is stor...">RKH_SMAI_T</a> data structure used to receive data. The performance information is available during run-time for each of the RKH services. This can be useful in determining whether the application is performing properly, as well as helping to optimize the application. This information provides a "snapshot" a particular instant in time, i.e., when the service is invoked.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>See <a class="el" href="struct_r_k_h___s_m_a_i___t.html" title="Defines the data structure into which the collected performance information for state machine is stor...">RKH_SMAI_T</a> structure for more information. This function is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_GET_INFO = 0.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
    <tr><td class="paramname">psi</td><td>pointer to the buffer into which the performance information will be copied by reference. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a32a97a1a7b1b3dce657b5c16fbd5d87c"></a><!-- doxytag: member="rkh.h::rkh_sma_clear_info" ref="a32a97a1a7b1b3dce657b5c16fbd5d87c" args="(RKHSMA_T *sma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_sma_clear_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clear performance information for a particular state machine application. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is optional, thus it could be eliminated in compile-time with RKH_SMA_EN_GET_INFO = 0.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa66015888d344e3f9ebe604817dc19cc"></a><!-- doxytag: member="rkh.h::rkh_sma_register" ref="aa66015888d344e3f9ebe604817dc19cc" args="(RKHSMA_T *sma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_sma_register </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registers a state machine application into the framework, which implies to store a pointer to the SMA in the priority table. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab7f65892fe1948afc1b76a5f9eb0c8f0"></a><!-- doxytag: member="rkh.h::rkh_sma_unregister" ref="ab7f65892fe1948afc1b76a5f9eb0c8f0" args="(RKHSMA_T *sma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_sma_unregister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes the SMA from the priority table, and thus from the framework, by simply replacing the link to the SMA being deleted with a NULL pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a994172cec235f0bc4aa32f72e5497621"></a><!-- doxytag: member="rkh.h::rkh_defer" ref="a994172cec235f0bc4aa32f72e5497621" args="(RKHRQ_T *q, const RKHEVT_T *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_defer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_r_q___t.html">RKHRQ_T</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defer an event to a given separate event queue. </p>
<p>Event deferral comes in very handy when an event arrives in a particularly inconvenient moment but can be deferred for some later time, when the system is in a much better position to handle the event. RKH supports very efficient event deferring and recalling mechanisms. This function is part of the event deferral mechanism. An SMA uses this function to defer an event <em>e</em> to the event queue <em>q</em>. RKH correctly accounts for another outstanding reference to the event and will not recycle the event at the end of the RTC step. Later, the SMA might recall one event at a time from the event queue by means of <a class="el" href="rkh_8h.html#a1699d08d464d2c77bd9aee5e4e55568e" title="Recall a deferred event from a given event queue.">rkh_recall()</a> function.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>For memory efficiency and best performance the deferred event queue, STORE ONLY POINTERS to events, not the whole event objects. An SMA can use multiple event queues to defer events of different kinds. The assertion inside it guarantee that operation is valid, so is not necessary to check the value returned from it.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>pointer to previously created queue. </td></tr>
    <tr><td class="paramname">e</td><td>pointer to event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1699d08d464d2c77bd9aee5e4e55568e"></a><!-- doxytag: member="rkh.h::rkh_recall" ref="a1699d08d464d2c77bd9aee5e4e55568e" args="(RKHSMA_T *sma, RKHRQ_T *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a>* rkh_recall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_r_q___t.html">RKHRQ_T</a> *&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recall a deferred event from a given event queue. </p>
<p>This function is part of the event deferral support. An SMA uses this function to recall a deferred event from a given event queue. Recalling an event means that it is removed from the deferred event queue <em>q</em> and posted (LIFO) to the event queue of the <em>sma</em> state machine application.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>For memory efficiency and best performance the destination event queue, STORE ONLY POINTERS to events, not the whole event objects.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The pointer to the recalled event to the caller, or NULL if no event has been recalled. </dd></dl>

</div>
</div>
<a class="anchor" id="aafd0b47b3a410c6b89e499b39a28f874"></a><!-- doxytag: member="rkh.h::rkh_epool_register" ref="aafd0b47b3a410c6b89e499b39a28f874" args="(void *sstart, rkhui32_t ssize, RKHES_T esize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_epool_register </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rkhui32_t&#160;</td>
          <td class="paramname"><em>ssize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rkhevt_8h.html#a97327b17e4be27368f9f6ad66ea1d785">RKHES_T</a>&#160;</td>
          <td class="paramname"><em>esize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registers a new event pool into the event pool list. </p>
<p>Before using dynamic events (or event with arguments) the application code must register the event pools, which stores the events as a fixed-sized memory block. Each event pool must be registered with the RKH framework, by means of the <a class="el" href="rkh_8h.html#aafd0b47b3a410c6b89e499b39a28f874" title="Registers a new event pool into the event pool list.">rkh_epool_register()</a> function.</p>
<p>This function initializes one event pool at a time and must be called exactly once for each event pool before the pool can be used.</p>
<p>The application code might initialize the event pools by making calls to the <a class="el" href="rkh_8h.html#aafd0b47b3a410c6b89e499b39a28f874" title="Registers a new event pool into the event pool list.">rkh_epool_register()</a> function. However, for the simplicity of the internal implementation, the application code initialize event pools in the ascending order of the event size.</p>
<p>Many RTOSes provide fixed block-size heaps, a.k.a. memory pools that can be adapted for RKH event pools. In case such support is missing, RKH provides a native RKH event pool implementation. The macro <a class="el" href="rkhitl_8h.html#a34d498dac1165ba1d4ea7dbe71ef7411" title="Defines the data type of the fixed-size memory block for dynamic event support.">RKH_DYNE_TYPE</a> determines the type of event pool used by a particular RKH port. See structure <a class="el" href="struct_r_k_h_m_p___t.html" title="Defines the data structure used to memory block pool facility.">RKHMP_T</a> for more information.</p>
<p>For adapting RKH event pools to any fixed-size memory block service RTOS provided the application code must define RKH_DYNE_TYPE, <a class="el" href="rkhitl_8h.html#a4b5aee3c127ac9c2618c2452b6bd65b2" title="Encapsulates the creation of a event pool.">RKH_DYNE_INIT()</a>, <a class="el" href="rkhitl_8h.html#ae5c52c17f40c4119b0aebffacf4ecb04" title="Encapsulates how RKH should obtain the block size of pool.">RKH_DYNE_GET_ESIZE()</a>, <a class="el" href="rkhitl_8h.html#a90dcc5b49faff4d8dde016f8aea160fa" title="Encapsulates how RKH should obtain an event e from the event pool mp.">RKH_DYNE_GET()</a>, and <a class="el" href="rkhitl_8h.html#a3d3e4448b8b4fdaef1501bf2723b0cde" title="Encapsulates how RKH should return an event e to the event pool mp.">RKH_DYNE_PUT()</a> macros.</p>
<p>The dynamic allocation of events is optional then if the <a class="el" href="rkhcfg_8h.html#a51733bf9ffb1aceb18d950fd4cce5a93">RKH_EN_NATIVE_DYN_EVENT</a> is set to 1 and the native fixed-size memory block facility is enabled (see <a class="el" href="rkhcfg_8h.html#ab893f2b2e3aba36212400404842235f9">RKH_MP_EN</a>) then RKH will include its own implementation of dynamic memory management. When <a class="el" href="rkhcfg_8h.html#a51733bf9ffb1aceb18d950fd4cce5a93">RKH_EN_NATIVE_DYN_EVENT</a> is enabled RKH also will automatically define RKH_DYNE_TYPE, <a class="el" href="rkhitl_8h.html#a4b5aee3c127ac9c2618c2452b6bd65b2" title="Encapsulates the creation of a event pool.">RKH_DYNE_INIT()</a>, <a class="el" href="rkhitl_8h.html#ae5c52c17f40c4119b0aebffacf4ecb04" title="Encapsulates how RKH should obtain the block size of pool.">RKH_DYNE_GET_ESIZE()</a>, <a class="el" href="rkhitl_8h.html#a90dcc5b49faff4d8dde016f8aea160fa" title="Encapsulates how RKH should obtain an event e from the event pool mp.">RKH_DYNE_GET()</a>, and <a class="el" href="rkhitl_8h.html#a3d3e4448b8b4fdaef1501bf2723b0cde" title="Encapsulates how RKH should return an event e to the event pool mp.">RKH_DYNE_PUT()</a>.</p>
<p>Example: </p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    #define SIZEOF_EP0STO               64</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SIZEOF_EP0_BLOCK            sizeof( TOUT_T )</span>
<span class="preprocessor"></span>
<span class="preprocessor">    #define SIZEOF_EP1STO               32</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SIZEOF_EP1_BLOCK            sizeof( DIAL_T )</span>
<span class="preprocessor"></span>
<span class="preprocessor">    #define SIZEOF_EP2STO               32</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SIZEOF_EP2_BLOCK            sizeof( SETUP_T )</span>
<span class="preprocessor"></span>    
    <span class="keyword">typedef</span> <span class="keyword">struct</span>
    {
        <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> evt;                   <span class="comment">// base structure</span>
        <span class="keywordtype">int</span> timerno;                    <span class="comment">// parameter &#39;timerno&#39;</span>
    } TOUT_T;

    <span class="keyword">typedef</span> <span class="keyword">struct</span>
    {
        <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> evt;                   <span class="comment">// base structure</span>
        <span class="keywordtype">char</span> dial[ MAX_SIZE_DIAL ];     <span class="comment">// parameter &#39;dial&#39;</span>
        <span class="keywordtype">int</span> qty;                        <span class="comment">// parameter &#39;qty&#39;</span>
    } DIAL_T;
        
    <span class="keyword">typedef</span> <span class="keyword">struct</span>
    {
        <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> evt;                   <span class="comment">// base structure</span>
        <span class="keywordtype">int</span> volume;                     <span class="comment">// parameter &#39;volume&#39;</span>
        <span class="keywordtype">int</span> baud_rate;                  <span class="comment">// parameter &#39;baud_rate&#39;</span>
        <span class="keywordtype">char</span> name[ MAX_SIZE_NAME ];     <span class="comment">// parameter &#39;name&#39;</span>
        <span class="keywordtype">int</span> iloop;                      <span class="comment">// parameter &#39;iloop&#39;</span>
    } SETUP_T;
    
    <span class="comment">// declares the storage memory of event pool</span>
    <span class="keyword">static</span> rkhui8_t ep0sto[ SIZEOF_EP0STO ],
                    ep1sto[ SIZEOF_EP1STO ],
                    ep2sto[ SIZEOF_EP2STO ];

    ...
    <a class="code" href="rkh_8h.html#aafd0b47b3a410c6b89e499b39a28f874" title="Registers a new event pool into the event pool list.">rkh_epool_register</a>( ep0sto, SIZEOF_EP0STO, SIZEOF_EP0_BLOCK  );
    <a class="code" href="rkh_8h.html#aafd0b47b3a410c6b89e499b39a28f874" title="Registers a new event pool into the event pool list.">rkh_epool_register</a>( ep1sto, SIZEOF_EP1STO, SIZEOF_EP1_BLOCK  );
    <a class="code" href="rkh_8h.html#aafd0b47b3a410c6b89e499b39a28f874" title="Registers a new event pool into the event pool list.">rkh_epool_register</a>( ep2sto, SIZEOF_EP2STO, SIZEOF_EP2_BLOCK  );
    ...
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sstart</td><td>storage start. Pointer to memory from which memory blocks are allocated. </td></tr>
    <tr><td class="paramname">ssize,:</td><td>storage size. Size of the memory pool storage in bytes. </td></tr>
    <tr><td class="paramname">esize</td><td>event size. This number determines the size of each memory block in the pool. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5588d1004e6041f7d6d6981470cee583"></a><!-- doxytag: member="rkh.h::rkh_ae" ref="a5588d1004e6041f7d6d6981470cee583" args="(RKHES_T esize, RKHE_T e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a>* rkh_ae </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rkhevt_8h.html#a97327b17e4be27368f9f6ad66ea1d785">RKHES_T</a>&#160;</td>
          <td class="paramname"><em>esize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rkhevt_8h.html#a8a78cec3a9dfc2336bd084c221e15e10">RKHE_T</a>&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal RKH implementation of the dynamic event allocator. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is internal to RKH and the user application should not call it. Please use <a class="el" href="rkh_8h.html#a66808180348a0a822a0fa46328b7f7d9" title="This macro dynamically creates a new event of type et with its signal.">RKH_ALLOC_EVENT()</a> macro.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>rkh_put_fifo(), rkh_put_lifo(), rkh_alloc_event(), rkh_set_static_event() and rkh_gc().</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">esize</td><td>size of event [in bytes]. </td></tr>
    <tr><td class="paramname">e</td><td>event signal. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3572f6e590c0480ae6c38cb52591548c"></a><!-- doxytag: member="rkh.h::rkh_hk_dispatch" ref="a3572f6e590c0480ae6c38cb52591548c" args="(RKHSMA_T *sma, RKHEVT_T *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_hk_dispatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When dispatching an event to a SMA the dispatch hook function will be executed. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The dispatch hook will only get called if RKH_HK_EN_DISPATCH is set to 1 within <a class="el" href="rkhcfg_8h.html" title="RKH user configuration.">rkhcfg.h</a> file. When this is set the application must provide the hook function.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
    <tr><td class="paramname">e</td><td>pointer to arrived event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae9e0cf19deea17d51c606b097376693d"></a><!-- doxytag: member="rkh.h::rkh_hk_signal" ref="ae9e0cf19deea17d51c606b097376693d" args="(RKHEVT_T *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_hk_signal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When the producer of an event directly posts the event to the event queue of the consumer SMA the <a class="el" href="rkh_8h.html#ae9e0cf19deea17d51c606b097376693d" title="When the producer of an event directly posts the event to the event queue of the consumer SMA the rkh...">rkh_hk_signal()</a> will optionally called. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The signal hook will only get called if RKH_HK_EN_SIGNAL is set to 1 within <a class="el" href="rkhcfg_8h.html" title="RKH user configuration.">rkhcfg.h</a> file. When this is set the application must provide the hook function.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>pointer to arrived event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa1d038df594d55a40edb5216f93587e1"></a><!-- doxytag: member="rkh.h::rkh_hk_timeout" ref="aa1d038df594d55a40edb5216f93587e1" args="(const void *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_hk_timeout </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If a timer expires the <a class="el" href="rkh_8h.html#aa1d038df594d55a40edb5216f93587e1" title="If a timer expires the rkh_hk_timeout() function is called just before the assigned event is directly...">rkh_hk_timeout()</a> function is called just before the assigned event is directly posted into the state machine application queue. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The timeout hook will only get called if RKH_HK_EN_TIMEOUT is set to 1 within <a class="el" href="rkhcfg_8h.html" title="RKH user configuration.">rkhcfg.h</a> file. When this is set the application must provide the hook function.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>pointer to previously allocated timer structure. A cast to <a class="el" href="struct_r_k_h_t___t.html" title="Defines the data structure used to maintain information that allows the timer-handling facility to up...">RKHT_T</a> data type must be internally implemented to get the appropiated timer control block. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8e824db08ba7430b74762a487804812b"></a><!-- doxytag: member="rkh.h::rkh_hk_start" ref="a8e824db08ba7430b74762a487804812b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_hk_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This hook function is called just before the RKH takes over control of the application. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The start hook will only get called if RKH_HK_EN_START is set to 1 within <a class="el" href="rkhcfg_8h.html" title="RKH user configuration.">rkhcfg.h</a> file. When this is set the application must provide the hook function. </dd></dl>

</div>
</div>
<a class="anchor" id="a2a7e209c4a5e7cd493d7e8870b576583"></a><!-- doxytag: member="rkh.h::rkh_hk_exit" ref="a2a7e209c4a5e7cd493d7e8870b576583" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_hk_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This hook function is called just before the RKH returns to the underlying OS/RTOS. Usually, the <a class="el" href="rkh_8h.html#a2a7e209c4a5e7cd493d7e8870b576583" title="This hook function is called just before the RKH returns to the underlying OS/RTOS. Usually, the rkh_hk_exit() is useful when executing clean-up code upon SMA terminate or framework exit.">rkh_hk_exit()</a> is useful when executing clean-up code upon SMA terminate or framework exit. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The exit hook will only get called if RKH_HK_EN_EXIT is set to 1 within <a class="el" href="rkhcfg_8h.html" title="RKH user configuration.">rkhcfg.h</a> file. When this is set the application must provide the hook function. </dd></dl>

</div>
</div>
<a class="anchor" id="a5edbaf8597b0b92d05d80dfddd891d52"></a><!-- doxytag: member="rkh.h::rkh_hk_idle" ref="a5edbaf8597b0b92d05d80dfddd891d52" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_hk_idle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An idle hook function will only get executed (with interrupts LOCKED) when there are no SMAs of higher priority that are ready to run. </p>
<p>This makes the idle hook function an ideal place to put the processor into a low power state - providing an automatic power saving whenever there is no processing to be performed.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The <a class="el" href="rkh_8h.html#a5edbaf8597b0b92d05d80dfddd891d52" title="An idle hook function will only get executed (with interrupts LOCKED) when there are no SMAs of highe...">rkh_hk_idle()</a> callback is called with interrupts locked, because the determination of the idle condition might change by any interrupt posting an event. This function must internally unlock interrupts, ideally atomically with putting the CPU to the power-saving mode.</dd></dl>
<p>Example:</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span>
    <a class="code" href="rkh_8h.html#a5edbaf8597b0b92d05d80dfddd891d52" title="An idle hook function will only get executed (with interrupts LOCKED) when there are no SMAs of highe...">rkh_hk_idle</a>( <span class="keywordtype">void</span> )         <span class="comment">// NOTE: entered with interrupts DISABLED</span>
    {
        <a class="code" href="rkhitl_8h.html#aed1d3d5ccbd9ff2fb694e809e494759d">RKH_ENA_INTERRUPT</a>();    <span class="comment">// must at least enable interrupts</span>
        ...
    }
</pre></div> 
</div>
</div>
<a class="anchor" id="a395d701b816dd11bdd9835483607ae5f"></a><!-- doxytag: member="rkh.h::rkh_init_hsm" ref="a395d701b816dd11bdd9835483607ae5f" args="(RKHSMA_T *sma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_init_hsm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inits a previously created state machine calling its initializing action. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae56c0173d50898325d8e64eac816399b"></a><!-- doxytag: member="rkh.h::rkh_dispatch" ref="ae56c0173d50898325d8e64eac816399b" args="(RKHSMA_T *sma, RKHEVT_T *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HUInt rkh_dispatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a> *&#160;</td>
          <td class="paramname"><em>sma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Executes a state machine in a non-preemtive model. </p>
<p>In this model, before the system handles a new event it can store it until the previous event has completed processing. This model is called run to completion or RTC. Thus, the system processes events in discrete, indivisible RTC steps. An RTC step is the period of time in which events are accepted and acted upon. Processing an event always completes within a single model step, including exiting the source state, executing any associated actions, and entering the target state. The RKH implementation preserves the transition sequence imposed by Harel's Statechart and UML.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sma</td><td>pointer to previously created state machine application. </td></tr>
    <tr><td class="paramname">e</td><td>pointer to arrived event. It's used as state-machine's input alphabet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Result RKH_RCODE_T code. </dd></dl>

</div>
</div>
<a class="anchor" id="a0c5cc7f333fe645313a7830387c1e2f2"></a><!-- doxytag: member="rkh.h::rkh_clear_history" ref="a0c5cc7f333fe645313a7830387c1e2f2" args="(RKHROM RKHSHIST_T *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_clear_history </td>
          <td>(</td>
          <td class="paramtype">RKHROM <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a> *&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase the history of a state. It can be a shallow or deep history. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>pointer to history pseudostate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a01e6ed5f8d81d1e3ec5bf32d44a4bab6"></a><!-- doxytag: member="rkh.h::rkh_trc_open" ref="a01e6ed5f8d81d1e3ec5bf32d44a4bab6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_trc_open </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open the tracing session. </p>
<p>This function is application-specific and the user needs to define it. At a minimum, the function must configure the trace stream by calling <a class="el" href="rkhtrc_8h.html#a8b7d1e9c3b57e75d0b5289282afdd10e" title="Initializes the RKH&#39;s trace record service.">rkh_trc_init()</a> function.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a01e6ed5f8d81d1e3ec5bf32d44a4bab6" title="Open the tracing session.">rkh_trc_open</a>( <span class="keywordtype">void</span> )
    {
        <a class="code" href="rkhtrc_8h.html#a8b7d1e9c3b57e75d0b5289282afdd10e" title="Initializes the RKH&#39;s trace record service.">rkh_trc_init</a>();
        <a class="code" href="rkhtrc_8h.html#a88a14ad1c20c7ebcd54c30a1265a056e" title="Starts or stops the tracing session.">rkh_trc_control</a>( RKH_TRC_START );

        <span class="keywordflow">if</span>( ( fdbg = fopen( <span class="stringliteral">&quot;../ahlog.txt&quot;</span>, <span class="stringliteral">&quot;w+&quot;</span> ) ) == NULL )
        {
            perror( <span class="stringliteral">&quot;Can&#39;t open file\n&quot;</span> );
            exit( EXIT_FAILURE );
        }
<span class="preprocessor">    #if BIN_TRACE == 1</span>
<span class="preprocessor"></span>        <span class="keywordflow">if</span>( ( ftbin = fopen( <span class="stringliteral">&quot;../ftbin&quot;</span>, <span class="stringliteral">&quot;w+b&quot;</span> ) ) == NULL )
        {
            perror( <span class="stringliteral">&quot;Can&#39;t open file\n&quot;</span> );
            exit( EXIT_FAILURE );
        }
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>        trazer_init();
    }
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><b><a class="el" href="rkhtrc_8h.html" title="Platform-independent interface for RKH trace facility.">rkhtrc.h</a></b> file. </dd></dl>

</div>
</div>
<a class="anchor" id="a82ea03425018b8a70571b3499b70e8d3"></a><!-- doxytag: member="rkh.h::rkh_trc_close" ref="a82ea03425018b8a70571b3499b70e8d3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_trc_close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the tracing session. </p>
<p>This function is application-specific and the user needs to define it. At a minimum, the function must configure the trace stream by calling <a class="el" href="rkhtrc_8h.html#a8b7d1e9c3b57e75d0b5289282afdd10e" title="Initializes the RKH&#39;s trace record service.">rkh_trc_init()</a> function.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a82ea03425018b8a70571b3499b70e8d3" title="Close the tracing session.">rkh_trc_close</a>( <span class="keywordtype">void</span> )
    {
        fclose( fdbg );
<span class="preprocessor">    #if BIN_TRACE == 1</span>
<span class="preprocessor"></span>        fclose( ftbin );
<span class="preprocessor">    #endif</span>
<span class="preprocessor">    }</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><b><a class="el" href="rkhtrc_8h.html" title="Platform-independent interface for RKH trace facility.">rkhtrc.h</a></b> file. </dd></dl>

</div>
</div>
<a class="anchor" id="a40281729b441d54e4118a6809540bb2f"></a><!-- doxytag: member="rkh.h::rkh_trc_flush" ref="a40281729b441d54e4118a6809540bb2f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_trc_flush </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Platform-dependent macro flushing the trace stream. </p>
<p>This function is application-specific and the user needs to define it. When the RKH trace an event, all the information related to it has to be stored somewhere before it can be retrieved, in order to be analyzed. This place is a trace stream. Frequently, events traced are stored in the stream until it is flushed.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> 
    <a class="code" href="rkh_8h.html#a40281729b441d54e4118a6809540bb2f" title="Platform-dependent macro flushing the trace stream.">rkh_trc_flush</a>( <span class="keywordtype">void</span> )
    {
        rkhui8_t *d;
        
        <span class="keywordflow">while</span>( ( d = <a class="code" href="rkhtrc_8h.html#a010da69e7e79a10723f60d37e60be609" title="Retrieves a pointer to oldest stored byte in the trace stream. Frequently, this function is used by t...">rkh_trc_get</a>() ) != ( rkhui8_t* )0 )
        {
            ftbin_flush( d );
            trazer_parse( *d );
        }
    }
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><b><a class="el" href="rkhtrc_8h.html" title="Platform-independent interface for RKH trace facility.">rkhtrc.h</a></b> file. </dd></dl>

</div>
</div>
<a class="anchor" id="ac289dc76e3dc4fdc23691782caa3aab9"></a><!-- doxytag: member="rkh.h::rkh_trc_getts" ref="ac289dc76e3dc4fdc23691782caa3aab9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rkhtrc_8h.html#a35f6c91d6f5a83e634f757e867290186">RKHTS_T</a> rkh_trc_getts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves a timestamp to be placed in a trace event. </p>
<p>This function is application-specific and the user needs to define it. At a minimum, the function must configure the trace stream by calling <a class="el" href="rkhtrc_8h.html#a8b7d1e9c3b57e75d0b5289282afdd10e" title="Initializes the RKH&#39;s trace record service.">rkh_trc_init()</a> function. The data returned is defined in compile-time by means of RKH_SIZEOF_TSTAMP.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment">    <a class="code" href="rkhtrc_8h.html#a35f6c91d6f5a83e634f757e867290186" title="Defines the size of trace timestamp.">RKHTS_T</a> 
    <a class="code" href="rkh_8h.html#ac289dc76e3dc4fdc23691782caa3aab9" title="Retrieves a timestamp to be placed in a trace event.">rkh_trc_getts</a>( <span class="keywordtype">void</span> )
    {
        <span class="keywordflow">return</span> ( <a class="code" href="rkhtrc_8h.html#a35f6c91d6f5a83e634f757e867290186" title="Defines the size of trace timestamp.">RKHTS_T</a> )clock();
    }
</pre></div><dl class="return"><dt><b>Returns:</b></dt><dd>Timestamp (RKHTS_T data type).</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><b><a class="el" href="rkhtrc_8h.html" title="Platform-independent interface for RKH trace facility.">rkhtrc.h</a></b> file. </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a3a9318a6a79d7b808df2f75351ba0286"></a><!-- doxytag: member="rkh.h::rkh_sptbl" ref="a3a9318a6a79d7b808df2f75351ba0286" args="[RKH_MAX_SMA]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_k_h_s_m_a___t.html">RKHSMA_T</a>* <a class="el" href="rkh_8h.html#a3a9318a6a79d7b808df2f75351ba0286">rkh_sptbl</a>[RKH_MAX_SMA]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Priority arranged table of registered SMA. </p>
<p>Register a state machine application into the framework implies to store a pointer to the SMA in the priority table. A unique priority number must be assigned to each SMA from 0 to RKH_LOWEST_PRIO. The lower the number, the higher the priority. </p>

</div>
</div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 9 2012 13:05:35 for RKH by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
